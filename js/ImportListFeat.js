const _0x29ef=['Source','sourceJsonToAbv','_pImportEntry_pImportToActor_pAddFlags','prerequisite','_content','SOURCE_TYP_OFFICIAL_ALL','ability','DATA_URL_FEATS','DataSourceUrl','isToken','pImportEntry','getData','Upload\x20File','_pageFilter','length','get','Alert','create','Ability','folder','Prerequisite','_pImportEntry_pImportToItems','SRD','_pImportEntry_pGetFolderId','absorbFnBindListeners','isTemp','initiativeAlert','_slAbility','render','mutateForFilters','_pImportEntry_pImportToActor','dnd5e','Name','OwnedItem','text-center','SOURCE_TYP_BREW','isStreamerMode','map','sourceLong','Custom\x20URL','items','feat','name','_actor','update','keys','_pack','getFeatItem','Elven\x20Accuracy','\x22\x20(from\x20\x22','Item','_activateListeners_absorbListItems','5etools','sheet','pGetHomebrewSources','observantFeat','log','SOURCE_TYP_CUSTOM','source','absorbFnGetData','_slPrereq','_list','importEntity','Feats','Import\x20Feats','sourceShort','insert','feats'];(function(_0x13b7b5,_0x29ef31){const _0x5e7483=function(_0x1b5948){while(--_0x1b5948){_0x13b7b5['push'](_0x13b7b5['shift']());}};_0x5e7483(++_0x29ef31);}(_0x29ef,0xb6));const _0x5e74=function(_0x13b7b5,_0x29ef31){_0x13b7b5=_0x13b7b5-0x0;let _0x5e7483=_0x29ef[_0x13b7b5];return _0x5e7483;};'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';class ImportListFeat extends ImportList{constructor(_0x18814e){_0x18814e=_0x18814e||{};super({'title':_0x5e74('0x12')},_0x18814e,{'props':[_0x5e74('0x3f')],'searchTitle':_0x5e74('0x15'),'sidebarTab':_0x5e74('0x3e'),'gameProp':_0x5e74('0x3e'),'defaultFolderPath':[_0x5e74('0x11')],'folderType':_0x5e74('0x4'),'pageFilter':new PageFilterFeats()});}async['pGetSources'](){return[new ImportList[(_0x5e74('0x1e'))](Config[_0x5e74('0x25')]('ui',_0x5e74('0x3a'))?_0x5e74('0x2c'):_0x5e74('0x6'),Vetools[_0x5e74('0x1d')],{'filterTypes':[ImportList[_0x5e74('0x1b')]]}),new ImportList[(_0x5e74('0x1e'))](_0x5e74('0x3d'),'',{'filterTypes':[ImportList[_0x5e74('0xb')]]}),new ImportList['DataSourceFile'](_0x5e74('0x22'),{'filterTypes':[ImportList[_0x5e74('0xb')]]}),...(await Vetools[_0x5e74('0x8')]('feat'))[_0x5e74('0x3b')](({name,url})=>new ImportList[(_0x5e74('0x1e'))](name,url,{'filterTypes':[ImportList[_0x5e74('0x39')]]}))];}[_0x5e74('0x21')](){return{...super['getData'](),'cols':[{'name':_0x5e74('0x36'),'width':0x4,'field':_0x5e74('0x40')},{'name':_0x5e74('0x28'),'width':0x3,'field':_0x5e74('0x1c')},{'name':_0x5e74('0x2a'),'width':0x3,'field':_0x5e74('0x19')},{'name':_0x5e74('0x16'),'width':0x1,'field':_0x5e74('0xc'),'titleProp':_0x5e74('0x3c'),'displayProp':_0x5e74('0x13'),'rowClassName':_0x5e74('0x38')}],'rows':this['_content'][_0x5e74('0x3b')]((_0x454586,_0xd0301)=>{this[_0x5e74('0x23')][_0x5e74('0x33')](_0x454586);return{'name':_0x454586[_0x5e74('0x40')],'ability':_0x454586['_slAbility'],'prerequisite':_0x454586[_0x5e74('0xe')],'source':_0x454586[_0x5e74('0xc')],'sourceShort':Parser[_0x5e74('0x17')](_0x454586[_0x5e74('0xc')]),'sourceLong':Parser['sourceJsonToFull'](_0x454586[_0x5e74('0xc')]),'ix':_0xd0301};})};}[_0x5e74('0x5')](){this['_list']['doAbsorbItems'](this[_0x5e74('0x1a')],{'fnGetName':_0x51d34b=>_0x51d34b[_0x5e74('0x40')],'fnGetValues':_0x135e1e=>({'source':_0x135e1e[_0x5e74('0xc')],'ability':_0x135e1e[_0x5e74('0x31')],'prerequisite':_0x135e1e[_0x5e74('0xe')]}),'fnGetData':UtilList2[_0x5e74('0xd')],'fnBindListeners':_0x48afda=>UtilList2[_0x5e74('0x2e')](this[_0x5e74('0xf')],_0x48afda)});}async[_0x5e74('0x20')](_0x11dddd,_0x56e2b8){_0x56e2b8=_0x56e2b8||{};console[_0x5e74('0xa')](...LGT,'Importing\x20feat\x20\x22'+_0x11dddd['name']+_0x5e74('0x3')+Parser[_0x5e74('0x17')](_0x11dddd['source'])+'\x22)');if(_0x56e2b8[_0x5e74('0x2f')])return this[_0x5e74('0x2b')](_0x11dddd,_0x56e2b8);else if(this[_0x5e74('0x41')])return this['_pImportEntry_pImportToActor'](_0x11dddd,_0x56e2b8);else return this['_pImportEntry_pImportToItems'](_0x11dddd,_0x56e2b8);}async[_0x5e74('0x34')](_0x29042b,_0x3ae3a9){await this[_0x5e74('0x41')]['createEmbeddedEntity'](_0x5e74('0x37'),DataConverter[_0x5e74('0x1')](_0x29042b),{});await this['_pImportEntry_pImportToActor_pAddFlags'](_0x29042b,_0x3ae3a9);if(this[_0x5e74('0x41')][_0x5e74('0x1f')])this['_actor'][_0x5e74('0x7')][_0x5e74('0x32')]();return{'name':_0x29042b[_0x5e74('0x40')],'actor':this[_0x5e74('0x41')]};}async[_0x5e74('0x18')](_0x2c7433,_0xe1ff38){const _0x8a1de4={'dnd5e':{}};if(_0x2c7433[_0x5e74('0x40')]==='Observant'&&_0x2c7433[_0x5e74('0xc')]===SRC_PHB)_0x8a1de4[_0x5e74('0x35')][_0x5e74('0x9')]=!![];if(_0x2c7433[_0x5e74('0x40')]===_0x5e74('0x26')&&_0x2c7433[_0x5e74('0xc')]===SRC_PHB)_0x8a1de4['dnd5e'][_0x5e74('0x30')]=!![];if(_0x2c7433[_0x5e74('0x40')]===_0x5e74('0x2')&&_0x2c7433[_0x5e74('0xc')]===SRC_XGE)_0x8a1de4[_0x5e74('0x35')]['elvenAccuracy']=!![];if(!Object[_0x5e74('0x43')](_0x8a1de4['dnd5e'])[_0x5e74('0x24')])return;const _0x1de08b={'flags':_0x8a1de4};this[_0x5e74('0x41')][_0x5e74('0x42')](_0x1de08b);}async[_0x5e74('0x2b')](_0x5490fa,_0x4de037){const _0x3812e3=DataConverter['getFeatItem'](_0x5490fa,{'isAddPermission':!![]});if(_0x4de037[_0x5e74('0x2f')]||!this[_0x5e74('0x0')]){if(!_0x4de037['isTemp']){const _0xceb86e=await this[_0x5e74('0x2d')](_0x5490fa);if(_0xceb86e)_0x3812e3[_0x5e74('0x29')]=_0xceb86e;}const _0x461262=await Item[_0x5e74('0x27')](_0x3812e3,{'renderSheet':!!_0x4de037[_0x5e74('0x2f')],'temporary':!!_0x4de037['isTemp']});if(!_0x4de037[_0x5e74('0x2f')])await game[_0x5e74('0x3e')][_0x5e74('0x14')](_0x461262);return _0x461262;}else{const _0x50b46c=new Item(_0x3812e3);await this[_0x5e74('0x0')][_0x5e74('0x10')](_0x50b46c);return _0x50b46c;}}}export{ImportListFeat};