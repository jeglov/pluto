const _0x1986=['pImportClass','pImportSubclass','walk','class','_activateListeners_initList','/media/icon/mighty-force.svg','pct','[name=\x22btn-run\x22]','art','remarkableAthlete','classSource','isTemp','multiclassing','Import\x20Only\x20Subclass','herb','log','forEach','notifications','ceil','levels','/template/ImportListClassLevelSelect.handlebars','data-index','MODULE_LOCATION','gaming\x20set','level','_list','_pImportClass_pImportToItems','DataSourceSpecial','pGetUserMultipleChoice','absorbFnGetData','subclasses','spells','SOURCE_TYP_OFFICIAL_ALL','input:checked[data-index]','render','max','_actor','getData','medium','armor','copy','activateSidebarTab','classSourceLong','reduce','_pImportEntry_pDoUpdateCharacter','includes','subRows','push','pGetSubclassItem','navg','Select\x20Existing\x20Feature\x20to\x20Import\x20','ascSortLower','SOURCE_TYP_BREW','_pImportEntry_pGetCurLevelFillClassData','cls','proficiency','martial','spell','toDisplay','_$bntFilter','light','choose','cbSel','Herbalism\x20kit','prototype','link','Import\x20Class\x20and\x20Subclass','pois','dnd5e','flags','removeHook','hvy','.veapp__list','sourceFilter','close','_pImportEntry_pDoUpdateCharacter_pPopulateLevelOneProficiencies','third','_pPopulateBoxOptions','_getRowText','create','[name=\x22cb-select-all\x22]','find','mutateForFilters','addHook','_pImportEntry_pDoUpdateCharacter_pPopulateMulticlassProficiencies','_pImportClass_pGetProficiencyImportMode','startingProficiencies','DataSourceUrl','count','description','\x20SOURCE\x20','disg','musical\x20instrument','targetLevel','doHookSpellLinkRender','_pImportEntry_pFillItemArrayAdditionalSpells','click','prop','get','1/2','type','(Unnamed\x20class)','LevelSelect','sim','updateEmbeddedEntity','cleanupWalker','spellcasting','Please\x20select\x20something\x20to\x20import!','spellHashToItemIdMap','min','value','pGetUserSelection','faces','vehicles\x20(land\x20or\x20water)','lgt','URL_TO_HASH_BUILDER','insert','custom','_getFilteredEntries','ele','getCleanEntityName','sort','SRD','half','Select\x20','Import\x20Lower\x20Levels?','Select\x20Class\x20Proficiency\x20Import\x20Mode','Importing\x20subclass\x20\x22','MODULE_NAME','split','proficienciesGained','getWalker','skills','(Unnamed\x20subclass)','flat','mar','EVNT_VALCHANGE','source','pGetAllSpells','values','_$iptSearch','classes','proficiencyImportMode','folder','toSpellCase','forgery\x20kit','_$btnReset','Import\x20Level\x20',').\x20Would\x20you\x20like\x20to\x20import\x20level','sourceLong','spellcastingAbility','pRunTasks','length','shift','data','string','_pImportClass_pImportToActor','filter','Yes','inset','PG_SPELLS','pGetConfirmation','shl','fluff','pGetSpellItem','isClassImport','_pPostLoad','isCancelled','pFillActorSkillData','toolProf','prof','object','Add\x20multiclass\x20proficiencies\x20(this\x20is\x20my\x20second+\x20class)','_$btnToggleSummary','curLevel','proficient','sortName','gainSubclassFeature','_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom','attr','\x20SUBCLASS\x20','_pGetUserClassItem','tools','...','fa-hat-wizard','trim',')?</p>','attributes','_featureArr','Custom\x20URL','classFeatures','then','isCompact','className','_pageFilter','name','vehicle','always','5etools-classes','findName','_pImportSubclass_pImportToItems','Choose\x20Additional\x20Spell\x20Set\x20(','SOURCE_TYP_CUSTOM','chosenProficiencies','_content','keys','thieves\x27\x20tools','abilities','sourceJsonToFull','simple','poisoner\x27s\x20kit','importEntity','setFirstSection','map','traits','activateListeners','warn','toLowerCase','pGetClasses','\x20Levels\x20To','music','_$wrpBtnsSort','sourceJsonToAbv','full','update','Subclass','med','pInitFilterBox','isIncludesLevelOne','itemsToUpdate','getItemActorPassive','srd','Import\x20Classes','insetReadaloud','change','_pImportPreparedCasterSpells','shields','items','pGetUserEnum','pGetCompendiumImage','pGetHomebrewSources','_pImportEntry_pFillItemArrayFeaturesAndFinalise','_fMisc','(Create\x20New\x20Feature)','/media/icon/laurels.svg','floor','_getFilterNamespace','pGetSources','casterProgression','some','_PREPARED_SPELL_CASTERS','\x22\x20(from\x20\x22','_pack','_pImportEntry_setFlags','bind','init','subclass','_cachedData','You\x20have\x20selected\x20a\x20single\x20level\x20to\x20import\x20(level\x20','additionalSpells','Item','details','sheet','thief','checked','absorbFnBindListeners','section','Task','Class','_resolve','LEVEL_XP_REQUIRED','Upload\x20File','pGetClassItem','modules/','_$btnRun','filterBox','DataSourceFile','proficiency\x20versatility','\x20too?','doAbsorbItems','1/3','fromClassList','pGetUserBoolean','getValues','getItemSource','isToken','Do\x20not\x20add\x20proficiencies','classFeature','CASTER_TYPE_TO_PROGRESSION','_pValidateUserLevelIndices','/template/ImportListClass.handlebars','entries','existingClassItem','join','ixSub','subclassFeatures','feat','navigator\x27s\x20tools','initBtnSortHandlers','replace','_handleFilterChange','_pImportSubclass_pImportToActor','_pImportEntry_pGetFolderId','_id','\x20Levels','weaponProf','getMappedCasterType','isStreamerMode','heavy','class_subclass'];(function(_0x4bf61f,_0x198609){const _0x17ab23=function(_0x5bdb43){while(--_0x5bdb43){_0x4bf61f['push'](_0x4bf61f['shift']());}};_0x17ab23(++_0x198609);}(_0x1986,0x1a3));const _0x17ab=function(_0x4bf61f,_0x198609){_0x4bf61f=_0x4bf61f-0x0;let _0x17ab23=_0x1986[_0x4bf61f];return _0x17ab23;};'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT,Util}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';class PageFilterClasses_Importer extends PageFilterClasses{async['_pPopulateBoxOptions'](_0x1d9ac0){await super[_0x17ab('0x116')](_0x1d9ac0);_0x1d9ac0[_0x17ab('0x53')]=![];}}class ImportListClass extends ImportList{constructor(_0x141809){_0x141809=_0x141809||{};super({'title':_0x17ab('0x7b'),'template':SharedConsts[_0x17ab('0xdf')]+_0x17ab('0xb5'),'height':Util['getMaxWindowHeight'](),'resizable':!![]},_0x141809,{'namespace':_0x17ab('0xc8'),'defaultFolderPath':['Classes'],'folderType':_0x17ab('0x97'),'sidebarTab':_0x17ab('0x80'),'gameProp':'items','pageFilter':new PageFilterClasses_Importer()});this['_cachedData']=null;}static async['_pPostLoad'](_0x15d68e){_0x15d68e=MiscUtil['copy'](_0x15d68e);if(!_0x15d68e[_0x17ab('0xcc')])_0x15d68e['class']=[];if(_0x15d68e[_0x17ab('0x93')]){for(const _0x528346 of _0x15d68e[_0x17ab('0x93')]){if(!_0x528346[_0x17ab('0xcc')])break;_0x528346[_0x17ab('0xd3')]=_0x528346[_0x17ab('0xd3')]||SRC_PHB;const _0x112acb=_0x15d68e['class'][_0x17ab('0x11a')](_0x301e32=>(_0x301e32[_0x17ab('0x56')]||'')['toLowerCase']()===_0x528346[_0x17ab('0xcc')]['toLowerCase']()&&(_0x301e32['source']||SRC_PHB)[_0x17ab('0x6c')]()===_0x528346[_0x17ab('0xd3')][_0x17ab('0x6c')]());if(!_0x112acb){const _0x948cd2=(await Vetools['pGetClasses']())[_0x17ab('0xcc')][_0x17ab('0x11a')](_0x43c641=>_0x43c641[_0x17ab('0x56')][_0x17ab('0x6c')]()===_0x528346[_0x17ab('0xcc')]['toLowerCase']()&&(_0x43c641['source'][_0x17ab('0x6c')]()||SRC_PHB)===_0x528346[_0x17ab('0xd3')][_0x17ab('0x6c')]());if(_0x948cd2){const _0x85cbcd=MiscUtil[_0x17ab('0xf1')](_0x948cd2);_0x85cbcd[_0x17ab('0xe7')]=[_0x528346];_0x15d68e[_0x17ab('0xcc')]['push'](_0x85cbcd);}else{_0x15d68e[_0x17ab('0xcc')][_0x17ab('0xf8')]({'name':_0x528346['class'],'source':_0x528346[_0x17ab('0xd3')],'subclasses':[_0x528346]});}}else(_0x112acb[_0x17ab('0xe7')]=_0x112acb[_0x17ab('0xe7')]||[])[_0x17ab('0xf8')](_0x528346);}delete _0x15d68e[_0x17ab('0x93')];}_0x15d68e[_0x17ab('0xcc')][_0x17ab('0xd9')](_0x401eb4=>{_0x401eb4[_0x17ab('0x1c')]=_0x401eb4['source']||SRC_PHB;_0x401eb4['subclasses']=_0x401eb4['subclasses']||[];_0x401eb4['subclasses'][_0x17ab('0xd9')](_0x47a49f=>{_0x47a49f[_0x17ab('0x56')]=_0x47a49f[_0x17ab('0x56')]||'(Unnamed\x20subclass)';_0x47a49f[_0x17ab('0x1c')]=_0x47a49f[_0x17ab('0x1c')]||_0x401eb4[_0x17ab('0x1c')];_0x47a49f[_0x17ab('0xcc')]=_0x47a49f[_0x17ab('0xcc')]||_0x401eb4[_0x17ab('0x56')];_0x47a49f['classSource']=_0x47a49f['classSource']||_0x401eb4[_0x17ab('0x1c')]||SRC_PHB;});_0x401eb4[_0x17ab('0xe7')][_0x17ab('0xc')]((_0x329d69,_0x496956)=>SortUtil['ascSortLower'](_0x329d69[_0x17ab('0x56')],_0x496956['name'])||SortUtil['ascSortLower'](_0x329d69[_0x17ab('0x1c')]||_0x401eb4['source'],_0x496956[_0x17ab('0x1c')]||_0x401eb4['source']));});_0x15d68e[_0x17ab('0xcc')]['sort']((_0x50994e,_0x4b31f8)=>SortUtil['ascSortLower'](_0x50994e[_0x17ab('0x56')],_0x4b31f8['name'])||SortUtil[_0x17ab('0xfc')](_0x50994e[_0x17ab('0x1c')],_0x4b31f8[_0x17ab('0x1c')]));return _0x15d68e['class'];}async[_0x17ab('0x8a')](){const _0x3af099={'pPostLoad':ImportListClass[_0x17ab('0x39')]};return[new ImportList[(_0x17ab('0xe4'))](Config[_0x17ab('0x12b')]('ui',_0x17ab('0xc6'))?_0x17ab('0xd'):'5etools',Vetools[_0x17ab('0x6d')],{'cacheKey':_0x17ab('0x59'),..._0x3af099,'filterTypes':[ImportList[_0x17ab('0xe9')]]}),new ImportList[(_0x17ab('0x120'))](_0x17ab('0x50'),'',{..._0x3af099,'filterTypes':[ImportList[_0x17ab('0x5d')]]}),new ImportList[(_0x17ab('0xa7'))](_0x17ab('0xa2'),{..._0x3af099,'filterTypes':[ImportList[_0x17ab('0x5d')]]}),...(await Vetools[_0x17ab('0x83')]('class',_0x17ab('0x93')))['map'](({name,url})=>new ImportList['DataSourceUrl'](name,url,{..._0x3af099,'filterTypes':[ImportList[_0x17ab('0xfd')]]}))];}['getData'](){this['_cachedData']=this[_0x17ab('0x94')]||{...Application[_0x17ab('0x109')][_0x17ab('0xee')]['call'](this),'rows':this[_0x17ab('0x5f')][_0x17ab('0xc')]((_0x1e7166,_0x32e128)=>SortUtil[_0x17ab('0xfc')](_0x1e7166[_0x17ab('0x56')],_0x32e128[_0x17ab('0x56')])||SortUtil[_0x17ab('0xfc')](Parser[_0x17ab('0x63')](_0x1e7166[_0x17ab('0x1c')]||SRC_PHB),Parser['sourceJsonToFull'](_0x32e128[_0x17ab('0x1c')]||SRC_PHB)))[_0x17ab('0x68')]((_0x14f3a6,_0x4313a2)=>{this['_pageFilter'][_0x17ab('0x11b')](_0x14f3a6);return{'name':_0x14f3a6[_0x17ab('0x56')],'source':_0x14f3a6['source'],'sourceShort':Parser[_0x17ab('0x71')](_0x14f3a6[_0x17ab('0x1c')]),'sourceLong':Parser['sourceJsonToFull'](_0x14f3a6['source']),'ix':_0x4313a2,'disabled':!_0x14f3a6[_0x17ab('0x51')],'subRows':(_0x14f3a6['subclasses']||[])[_0x17ab('0x68')]((_0x3a7512,_0x22e53b)=>({'name':_0x3a7512['name'],'source':_0x3a7512[_0x17ab('0x1c')]||_0x14f3a6[_0x17ab('0x1c')],'sourceShort':Parser['sourceJsonToAbv'](_0x3a7512['source']||_0x14f3a6[_0x17ab('0x1c')]),'sourceLong':Parser[_0x17ab('0x63')](_0x3a7512[_0x17ab('0x1c')]||_0x14f3a6[_0x17ab('0x1c')]),'ixSub':_0x22e53b}))};})};return this[_0x17ab('0x94')];}['_activateListeners_initRunButton'](){this[_0x17ab('0xa5')][_0x17ab('0x129')](async()=>{if(!this[_0x17ab('0xe2')])return;const _0x23a8f3=this[_0x17ab('0xe2')]['items'][_0x17ab('0x30')](_0x32d3e9=>_0x32d3e9[_0x17ab('0x2d')][_0x17ab('0x107')][_0x17ab('0x9b')])['map'](_0x385f63=>({'ix':_0x385f63[_0x17ab('0x1e')]['ix'],'ixSub':_0x385f63[_0x17ab('0x1e')][_0x17ab('0xb9')]}));if(!_0x23a8f3[_0x17ab('0x2b')])return ui[_0x17ab('0xda')]['warn'](_0x17ab('0x134'));this[_0x17ab('0x113')]();this[_0x17ab('0xf2')]();const _0x1bc840=_0x23a8f3[_0x17ab('0x68')](({ix,ixSub})=>{const _0x54285e=MiscUtil[_0x17ab('0xf1')](this[_0x17ab('0x5f')][ix]);return{'ix':ix,'cls':_0x54285e,'ixSub':ixSub,'sc':ixSub!=null?_0x54285e['subclasses'][ixSub]:null};});_0x1bc840[_0x17ab('0x30')](_0x4db85f=>!_0x4db85f['sc'])['forEach'](_0xba69b3=>_0xba69b3['cls'][_0x17ab('0xe7')]=[]);_0x1bc840[_0x17ab('0xc')]((_0x12e439,_0x3e6979)=>!!_0x12e439['sc']-!!_0x3e6979['sc']);const _0x454b99=[];const _0x4fe608=[];_0x1bc840[_0x17ab('0xd9')](_0x8bd2e9=>{if(_0x8bd2e9['sc']){const _0x9793e5=_0x454b99[_0x17ab('0x11a')](_0x125c88=>_0x125c88[_0x17ab('0x56')][_0x17ab('0x6c')]()===_0x8bd2e9['sc'][_0x17ab('0xcc')]['toLowerCase']()&&_0x125c88[_0x17ab('0x1c')][_0x17ab('0x6c')]()===_0x8bd2e9['sc'][_0x17ab('0xd3')][_0x17ab('0x6c')]());if(_0x9793e5)_0x9793e5[_0x17ab('0xe7')]['push'](_0x8bd2e9['sc']);else _0x4fe608['push']({'cls':_0x8bd2e9[_0x17ab('0xff')],'sc':_0x8bd2e9['sc']});}else _0x454b99['push'](_0x8bd2e9[_0x17ab('0xff')]);});const _0x54f1f3=[..._0x454b99[_0x17ab('0x68')](_0x19f959=>{return new Util[(_0x17ab('0x9e'))](_0x19f959[_0x17ab('0x56')]+'\x20('+Parser['sourceJsonToAbv'](_0x19f959['source'])+')',()=>this['pImportClass'](_0x19f959));}),..._0x4fe608['map'](({cls,sc})=>{return new Util[(_0x17ab('0x9e'))](sc[_0x17ab('0x56')]+'\x20('+Parser['sourceJsonToAbv'](sc[_0x17ab('0x1c')])+')',()=>this['pImportSubclass'](cls,sc));})];await UtilApplications[_0x17ab('0x2a')](_0x54f1f3);if(!this[_0x17ab('0xed')])game[this['_gameProp']][_0x17ab('0xeb')]();this['_$cbAll'][_0x17ab('0x12a')](_0x17ab('0x9b'),![])[_0x17ab('0x7d')]();});}[_0x17ab('0xcd')](){this[_0x17ab('0xe2')]=new List({'$iptSearch':this[_0x17ab('0x1f')],'$wrpList':this['_$wrpList'],'fnSort':(_0x45ca1c,_0x5c1b8a)=>SortUtil[_0x17ab('0xfc')](_0x45ca1c[_0x17ab('0x1e')]['sortName'],_0x5c1b8a['values'][_0x17ab('0x43')])});SortUtil[_0x17ab('0xbd')](this[_0x17ab('0x70')],this[_0x17ab('0xe2')]);const _0x173108=this[_0x17ab('0x94')]['rows'][_0x17ab('0x68')](_0x4934c1=>{const _0x52e71a={..._0x4934c1};delete _0x52e71a['subRows'];const _0x4edcbf=_0x4934c1[_0x17ab('0xf7')][_0x17ab('0x68')](_0x475cca=>({..._0x475cca,'ix':_0x4934c1['ix'],'className':_0x4934c1[_0x17ab('0x56')],'classSourceLong':_0x4934c1[_0x17ab('0x28')]}));return[_0x52e71a,..._0x4edcbf];})[_0x17ab('0x19')]();this[_0x17ab('0x55')][_0x17ab('0x76')]({'$iptSearch':this['_$iptSearch'],'$btnReset':this[_0x17ab('0x25')],'$btnOpen':this[_0x17ab('0x104')],'$btnToggleSummaryHidden':this[_0x17ab('0x40')],'$wrpMiniPills':this['_$wrpMiniPills'],'namespace':this[_0x17ab('0x89')]()})[_0x17ab('0x52')](()=>{this[_0x17ab('0x5f')]['forEach'](_0x44a799=>this[_0x17ab('0x55')]['addToFilters'](_0x44a799));this[_0x17ab('0xe2')][_0x17ab('0xaa')](_0x173108,{'fnGetName':_0x2e21a6=>_0x2e21a6['name'],'fnGetValues':_0x55b901=>{if(_0x55b901['ixSub']!=null){return{'ix':_0x55b901['ix'],'ixSub':_0x55b901['ixSub'],'sortName':_0x55b901[_0x17ab('0x54')]+_0x17ab('0x123')+_0x55b901[_0x17ab('0xf3')]+_0x17ab('0x47')+_0x55b901['name']+_0x17ab('0x123')+_0x55b901[_0x17ab('0x28')],'source':_0x55b901[_0x17ab('0x1c')]};}else{return{'ix':_0x55b901['ix'],'sortName':_0x55b901['name']+_0x17ab('0x123')+_0x55b901[_0x17ab('0x28')]};}},'fnGetData':UtilList2['absorbFnGetData'],'fnBindListeners':_0x449cff=>UtilList2['absorbFnBindListeners'](this[_0x17ab('0xe2')],_0x449cff)});this[_0x17ab('0xe2')][_0x17ab('0x92')]();this[_0x17ab('0x55')][_0x17ab('0xa6')][_0x17ab('0xeb')]();$(this['_pageFilter'][_0x17ab('0xa6')])['on'](FilterBox[_0x17ab('0x1b')],this['_handleFilterChange'][_0x17ab('0x91')](this));this['_handleFilterChange']();});}[_0x17ab('0xbf')](){const _0x329999=this[_0x17ab('0x55')][_0x17ab('0xa6')][_0x17ab('0xae')]();this[_0x17ab('0xe2')]['filter'](_0x145fc9=>{const _0x5d50c0=this[_0x17ab('0x5f')][_0x145fc9['values']['ix']];if(_0x145fc9[_0x17ab('0x1e')][_0x17ab('0xb9')]!=null){const _0x44c957=_0x5d50c0[_0x17ab('0xe7')][_0x145fc9[_0x17ab('0x1e')][_0x17ab('0xb9')]];return this[_0x17ab('0x55')][_0x17ab('0x103')](_0x329999,_0x5d50c0)&&this[_0x17ab('0x55')][_0x17ab('0xa6')]['toDisplay'](_0x329999,_0x44c957['source'],_0x44c957[_0x17ab('0x85')]);}else{return this['_pageFilter'][_0x17ab('0x103')](_0x329999,_0x5d50c0);}});}async[_0x17ab('0xc9')](_0x1d87ef,_0x4ceafe){_0x4ceafe=_0x4ceafe||{};console['log'](...LGT,'Importing\x20class\x20\x22'+_0x1d87ef[_0x17ab('0x56')]+_0x17ab('0x8e')+Parser['sourceJsonToAbv'](_0x1d87ef['source'])+'\x22)');if(_0x4ceafe[_0x17ab('0xd4')])return this[_0x17ab('0xe3')](_0x1d87ef,_0x4ceafe);else if(this[_0x17ab('0xed')])return this[_0x17ab('0x2f')](_0x1d87ef,_0x4ceafe);else return this[_0x17ab('0xe3')](_0x1d87ef,_0x4ceafe);}async['_pImportClass_pImportToActor'](_0x1065ea){const _0x38a1f7={'items':[],'itemsToUpdate':[],'spellHashToItemIdMap':{}};_0x1065ea[_0x17ab('0x51')]['forEach'](_0x281195=>{const _0x4f1013=_0x281195[_0x17ab('0x8c')](_0x4dc79f=>_0x4dc79f['gainSubclassFeature']);if(_0x4f1013){_0x1065ea[_0x17ab('0xe7')][_0x17ab('0xd9')](_0x17e846=>{const _0xa52346=_0x17e846[_0x17ab('0xba')][_0x17ab('0x2c')]();if(_0xa52346&&_0xa52346[_0x17ab('0x2b')])_0x281195[_0x17ab('0xf8')](..._0xa52346);});}});const _0xe2bf2=MiscUtil[_0x17ab('0x12b')](ImportListClass[_0x17ab('0x8d')],_0x1065ea['source'],_0x1065ea[_0x17ab('0x56')]);const _0x4dc8a1=this[_0x17ab('0x9')](MiscUtil[_0x17ab('0xf1')](_0x1065ea['classFeatures']));const _0x3afca7=new ImportListClass[(_0x17ab('0x12f'))](_0x4dc8a1,![]);const _0x4aa09b=await _0x3afca7[_0x17ab('0x2')]();if(_0x4aa09b!=null){await this['_pValidateUserLevelIndices'](_0x4aa09b,_0x38a1f7);if(_0x38a1f7[_0x17ab('0x3a')])return;_0x38a1f7[_0x17ab('0x126')]=Math['max'](..._0x4aa09b)+0x1;_0x38a1f7[_0x17ab('0x77')]=_0x4aa09b[_0x17ab('0xf6')](0x0);_0x38a1f7['isClassImport']=!![];_0x38a1f7[_0x17ab('0x29')]=_0x1065ea['spellcastingAbility'];_0x38a1f7[_0x17ab('0x21')]=await this[_0x17ab('0x11e')](_0x38a1f7[_0x17ab('0x38')],_0x38a1f7[_0x17ab('0x77')]);if(_0x38a1f7['proficiencyImportMode']==null){_0x38a1f7[_0x17ab('0x3a')]=!![];return;}const _0xa11737=_0x1065ea[_0x17ab('0xe7')]?_0x1065ea[_0x17ab('0xe7')][0x0]:null;const _0x32dad6=(_0x1065ea[_0x17ab('0xe7')]||[])[_0x17ab('0x30')](_0x4993b7=>_0x4993b7[_0x17ab('0x29')]||_0x4993b7[_0x17ab('0x8b')]);const _0x4e9cea=_0x32dad6[0x0]||_0xa11737;const _0x209849={'data':{}};const {curLevel,existingClassItem}=await this[_0x17ab('0xfe')](_0x209849,_0x1065ea,_0x4e9cea,_0x38a1f7);this[_0x17ab('0x90')](_0x209849,_0x1065ea,_0x1065ea['subclasses'],curLevel,_0x38a1f7);await this[_0x17ab('0xf5')](_0x209849,_0x1065ea,_0x4e9cea,existingClassItem,_0x38a1f7);if(_0x38a1f7[_0x17ab('0x3a')])return;if(_0xe2bf2)await this[_0x17ab('0x7e')](_0x1065ea,curLevel,_0x38a1f7);const _0x47a984=_0x1065ea[_0x17ab('0x51')]['filter']((_0x1ae900,_0x47f802)=>_0x4aa09b[_0x17ab('0xf6')](_0x47f802));await this[_0x17ab('0x128')](_0x1065ea[_0x17ab('0xe7')],curLevel,_0x38a1f7);if(_0x38a1f7[_0x17ab('0x3a')])return;await this[_0x17ab('0x84')](_0x1065ea['source'],_0x1065ea[_0x17ab('0x7a')],_0x47a984,_0x38a1f7);if(this[_0x17ab('0xed')][_0x17ab('0xb0')])this['_actor']['sheet'][_0x17ab('0xeb')]();}}[_0x17ab('0x90')](_0xce082a,_0x92e9d6,_0x18df17,_0x423d07,_0x4a3972){const _0x8663be={'dnd5e':{}};if(_0x4a3972[_0x17ab('0x38')]&&_0x92e9d6&&_0x92e9d6[_0x17ab('0x56')]==='Bard'&&_0x92e9d6[_0x17ab('0x1c')]===SRC_PHB&&_0x423d07<0x2&&_0x4a3972[_0x17ab('0x126')]>=0x2)_0x8663be[_0x17ab('0x10d')]['jackOfAllTrades']=!![];if(_0x92e9d6&&_0x92e9d6['name']==='Fighter'&&_0x92e9d6[_0x17ab('0x1c')]===SRC_PHB&&_0x18df17['some'](_0x455fd1=>_0x455fd1[_0x17ab('0x56')]==='Champion')&&_0x423d07<0x7&&_0x4a3972[_0x17ab('0x126')]>=0x7)_0x8663be[_0x17ab('0x10d')][_0x17ab('0xd2')]=!![];if(Object['keys'](_0x8663be[_0x17ab('0x10d')])[_0x17ab('0x2b')])_0xce082a[_0x17ab('0x10e')]=_0x8663be;}async['_pImportClass_pGetProficiencyImportMode'](_0x28359e,_0x3fe4c4){const _0x2819f9=MiscUtil[_0x17ab('0x12b')](this[_0x17ab('0xed')],_0x17ab('0x2d'),_0x17ab('0x80'))||[];const _0x36d905=_0x2819f9['filter'](_0x35ca10=>_0x35ca10[_0x17ab('0x12d')]===_0x17ab('0xcc'));if(_0x28359e&&_0x3fe4c4&&_0x36d905['length']){return InputUiUtil[_0x17ab('0x81')]({'values':[_0x17ab('0x3f'),'Add\x20base\x20class\x20proficiencies\x20(this\x20is\x20my\x20first\x20class)',_0x17ab('0xb1')],'title':_0x17ab('0x11')});}return 0x1;}async[_0x17ab('0xe3')](_0x28046d,_0x8b2f04){const _0x45bbb8=await DataConverter[_0x17ab('0xa3')](_0x28046d,{'isAddPermission':!![]});if(_0x8b2f04['isTemp']||!this[_0x17ab('0x8f')]){let _0x447e54;if(!_0x8b2f04['isTemp']){_0x447e54=await this[_0x17ab('0xc1')](_0x28046d);if(_0x447e54)_0x45bbb8['folder']=_0x447e54;}const _0x618818=await Item[_0x17ab('0x118')](_0x45bbb8,{'renderSheet':!!_0x8b2f04[_0x17ab('0xd4')],'temporary':!!_0x8b2f04['isTemp']});if(!_0x8b2f04[_0x17ab('0xd4')])await game[_0x17ab('0x80')][_0x17ab('0x7')](_0x618818);const _0xbd08f9=[];for(const _0x46b2a8 of _0x28046d['subclasses']||[]){const _0x5a5336=await DataConverter[_0x17ab('0xf9')](_0x28046d,_0x46b2a8,{'isAddPermission':!![]});if(!_0x8b2f04[_0x17ab('0xd4')]){if(_0x447e54)_0x5a5336[_0x17ab('0x22')]=_0x447e54;}const _0x3816af=await Item[_0x17ab('0x118')](_0x5a5336,{'renderSheet':!!_0x8b2f04[_0x17ab('0xd4')],'temporary':!!_0x8b2f04[_0x17ab('0xd4')]});if(!_0x8b2f04[_0x17ab('0xd4')])await game[_0x17ab('0x80')][_0x17ab('0x7')](_0x3816af);_0xbd08f9['push'](_0x3816af);}return[_0x618818,..._0xbd08f9];}else{const _0x9631c6=new Item(_0x45bbb8);await this[_0x17ab('0x8f')][_0x17ab('0x66')](_0x9631c6);const _0x53a4cc=[];for(const _0x5df58f of _0x28046d[_0x17ab('0xe7')]||[]){const _0x592e87=await DataConverter['pGetSubclassItem'](_0x28046d,_0x5df58f,{'isAddPermission':!![]});const _0x345724=new Item(_0x592e87);await this[_0x17ab('0x8f')][_0x17ab('0x66')](_0x345724);_0x53a4cc[_0x17ab('0xf8')](_0x345724);}return[_0x9631c6,..._0x53a4cc];}}async[_0x17ab('0xca')](_0x58d23b,_0x44b6ba,_0x2fc129){_0x2fc129=_0x2fc129||{};console[_0x17ab('0xd8')](...LGT,_0x17ab('0x12')+_0x44b6ba[_0x17ab('0x56')]+_0x17ab('0x8e')+Parser[_0x17ab('0x71')](_0x44b6ba['source'])+'\x22)');if(_0x2fc129[_0x17ab('0xd4')])return this[_0x17ab('0x5b')](_0x58d23b,_0x44b6ba,_0x2fc129);else if(this[_0x17ab('0xed')])return this[_0x17ab('0xc0')](_0x58d23b,_0x44b6ba,_0x2fc129);else return this['_pImportSubclass_pImportToItems'](_0x58d23b,_0x44b6ba,_0x2fc129);}async[_0x17ab('0xc0')](_0x13a9d9,_0x478fcb){const _0x26db56={'items':[],'itemsToUpdate':[],'spellHashToItemIdMap':{}};const _0xa0f5c6=(MiscUtil['get'](this[_0x17ab('0xed')],_0x17ab('0x2d'),'items')||[])[_0x17ab('0x30')](_0xbd050f=>_0xbd050f[_0x17ab('0x12d')]==='class');if(!_0xa0f5c6[_0x17ab('0x2b')]){const _0x142037=await InputUiUtil['pGetUserBoolean']({'title':'Import\x20Class?','htmlDescription':'You\x20have\x20selected\x20a\x20subclass\x20to\x20import,\x20but\x20have\x20no\x20class\x20levels.\x20Would\x20you\x20like\x20to\x20import\x20the\x20class\x20too?','textYes':_0x17ab('0x10b'),'textNo':_0x17ab('0xd6')});if(_0x142037==null){_0x26db56[_0x17ab('0x3a')]=!![];return;}if(_0x142037===!![]){const _0x2a7262=MiscUtil[_0x17ab('0xf1')](_0x13a9d9);_0x2a7262['subclasses']=[_0x478fcb];return this[_0x17ab('0xc9')](_0x2a7262);}}let _0x5e4e45=0x0;const _0xd37bc1=_0x13a9d9[_0x17ab('0x51')][_0x17ab('0x68')](_0x5d5ae0=>{const _0xe420b8=_0x5d5ae0[_0x17ab('0x8c')](_0x316ead=>_0x316ead[_0x17ab('0x44')]);if(!_0xe420b8)return[];else return _0x478fcb[_0x17ab('0xba')][_0x5e4e45++];});const _0x291a48=MiscUtil['get'](ImportListClass[_0x17ab('0x8d')],_0x13a9d9[_0x17ab('0x1c')],_0x13a9d9[_0x17ab('0x56')]);const _0x19dfd8=this[_0x17ab('0x9')](MiscUtil['copy'](_0xd37bc1));const _0x27103b=new ImportListClass[(_0x17ab('0x12f'))](_0x19dfd8,!![],_0x291a48);const _0x23df83=await _0x27103b[_0x17ab('0x2')]();if(_0x23df83!=null){await this[_0x17ab('0xb4')](_0x23df83,_0x26db56);if(_0x26db56[_0x17ab('0x3a')])return;_0x26db56[_0x17ab('0x126')]=Math[_0x17ab('0xec')](..._0x23df83)+0x1;_0x26db56['isIncludesLevelOne']=![];_0x26db56[_0x17ab('0x38')]=![];_0x26db56[_0x17ab('0x29')]=_0x478fcb[_0x17ab('0x29')]||_0x13a9d9[_0x17ab('0x29')];_0x26db56['proficiencyImportMode']=await this[_0x17ab('0x11e')](_0x26db56['isClassImport'],_0x26db56[_0x17ab('0x77')]);if(_0x26db56[_0x17ab('0x21')]==null){_0x26db56[_0x17ab('0x3a')]=!![];return;}const _0x2f44a0={'data':{}};const {curLevel,existingClassItem}=await this[_0x17ab('0xfe')](_0x2f44a0,_0x13a9d9,_0x478fcb,_0x26db56);this[_0x17ab('0x90')](_0x2f44a0,_0x13a9d9,[_0x478fcb],curLevel,_0x26db56);await this[_0x17ab('0xf5')](_0x2f44a0,_0x13a9d9,_0x478fcb,existingClassItem,_0x26db56);if(_0x26db56[_0x17ab('0x3a')])return;if(_0x291a48)await this[_0x17ab('0x7e')](_0x13a9d9,curLevel,_0x26db56);const _0x1a5d2b=_0xd37bc1[_0x17ab('0x30')]((_0x3c0044,_0x1cde65)=>_0x23df83[_0x17ab('0xf6')](_0x1cde65));await this['_pImportEntry_pFillItemArrayAdditionalSpells']([_0x478fcb],curLevel,_0x26db56);if(_0x26db56[_0x17ab('0x3a')])return;await this[_0x17ab('0x84')](_0x478fcb[_0x17ab('0x1c')],_0x478fcb['srd'],_0x1a5d2b,_0x26db56);if(this[_0x17ab('0xed')][_0x17ab('0xb0')])this[_0x17ab('0xed')][_0x17ab('0x99')][_0x17ab('0xeb')]();}}async[_0x17ab('0x5b')](_0xf78809,_0x956e07,_0x54b7c5){const _0x41ab91=await DataConverter[_0x17ab('0xf9')](_0xf78809,_0x956e07,{'isAddPermission':!![]});if(_0x54b7c5[_0x17ab('0xd4')]||!this[_0x17ab('0x8f')]){if(!_0x54b7c5[_0x17ab('0xd4')]){const _0x50ae71=await this[_0x17ab('0xc1')](_0x956e07);if(_0x50ae71)_0x41ab91[_0x17ab('0x22')]=_0x50ae71;}const _0xe76263=await Item[_0x17ab('0x118')](_0x41ab91,{'renderSheet':!!_0x54b7c5['isTemp'],'temporary':!!_0x54b7c5[_0x17ab('0xd4')]});if(!_0x54b7c5['isTemp'])await game[_0x17ab('0x80')][_0x17ab('0x7')](_0xe76263);return _0xe76263;}else{const _0x271ad4=new Item(_0x41ab91);await this[_0x17ab('0x8f')][_0x17ab('0x66')](_0x271ad4);return _0x271ad4;}}async[_0x17ab('0xf5')](_0x407360,_0x1e3dc1,_0x387c47,_0x549bdf,_0x4c4a17){const _0x1c2dc3=MiscUtil[_0x17ab('0x12b')](this['_actor'],_0x17ab('0x2d'),_0x17ab('0x80'))||[];const _0x45ccb5=_0x1c2dc3[_0x17ab('0x30')](_0x56bf0b=>_0x56bf0b[_0x17ab('0x12d')]===_0x17ab('0xcc'));const _0x282f68=_0x45ccb5['filter'](_0x2fcc96=>_0x2fcc96!==_0x549bdf);const _0x1b9a3b=_0x282f68['map'](_0x22edf6=>MiscUtil[_0x17ab('0x12b')](_0x22edf6,_0x17ab('0x2d'),_0x17ab('0xdc'))||0x0)[_0x17ab('0xf4')]((_0x4c3f88,_0x5ae1cd)=>_0x4c3f88+_0x5ae1cd,0x0)+(_0x4c4a17['targetLevel']||0x0);if(_0x1b9a3b>0x0){const _0x500805=(_0x407360[_0x17ab('0x2d')]['details']=_0x407360[_0x17ab('0x2d')][_0x17ab('0x98')]||{})['xp']=_0x407360[_0x17ab('0x2d')]['details']['xp']||{};const _0x1bf704=MiscUtil[_0x17ab('0x12b')](this[_0x17ab('0xed')],_0x17ab('0x2d'),'data',_0x17ab('0x98'),'xp',_0x17ab('0x1'))||0x0;const _0x19b03f=Parser[_0x17ab('0xa1')][_0x1b9a3b-0x1];const _0x4e51ea=Parser[_0x17ab('0xa1')][Math[_0x17ab('0x0')](_0x1b9a3b,0x13)];if(_0x1bf704<_0x19b03f){_0x500805[_0x17ab('0xcf')]=0x0;_0x500805[_0x17ab('0x1')]=_0x19b03f;}else{_0x500805['pct']=_0x1bf704/_0x4e51ea*0x64;}_0x500805[_0x17ab('0xec')]=_0x4e51ea;}const _0xa15599=MiscUtil['get'](this[_0x17ab('0xed')],'data',_0x17ab('0x2d'),_0x17ab('0x4e'),_0x17ab('0x3d'));const _0x2dafc1=Math['floor']((_0x4c4a17[_0x17ab('0x126')]-0x1)/0x4)+0x2;if(_0xa15599<_0x2dafc1)(_0x407360[_0x17ab('0x2d')][_0x17ab('0x4e')]=_0x407360['data']['attributes']||{})[_0x17ab('0x3d')]=_0x2dafc1;let _0x12268c;let _0x156cec;let _0x12c2f5=0x0;let _0x3ed6d7=0x0;if(_0x282f68[_0x17ab('0x2b')]){_0x282f68['filter'](_0x357a7f=>_0x357a7f[_0x17ab('0x2d')]&&_0x357a7f[_0x17ab('0x2d')][_0x17ab('0x133')])[_0x17ab('0xd9')](_0x4f4d01=>{_0x3ed6d7++;const _0x19090b=MiscUtil['get'](_0x4f4d01,_0x17ab('0x2d'),_0x17ab('0xdc'))||0x0;switch(_0x4f4d01[_0x17ab('0x2d')][_0x17ab('0x133')]){case _0x17ab('0x72'):_0x12c2f5+=_0x19090b;break;case _0x17ab('0xe'):_0x12c2f5+=Math[_0x17ab('0x88')](_0x19090b/0x2);break;case _0x17ab('0x115'):_0x12c2f5+=Math[_0x17ab('0x88')](_0x19090b/0x3);break;}});}const _0x4e6d7d=_0x3a5702=>{if(_0x1cb018===_0x3a5702&&_0x47f4aa===_0x3a5702){_0x12268c=_0x3a5702;return!![];}else if(_0x1cb018===_0x3a5702){_0x12268c=_0x3a5702;_0x156cec=_0x1e3dc1[_0x17ab('0x29')];return!![];}else if(_0x47f4aa===_0x3a5702){_0x12268c=_0x3a5702;_0x156cec=_0x387c47['spellcastingAbility'];return!![];}return![];};const _0x1cb018=_0x1e3dc1[_0x17ab('0x8b')];const _0x47f4aa=_0x387c47?_0x387c47[_0x17ab('0x8b')]:null;if(_0x1cb018&&_0x47f4aa)_0x4e6d7d('full')||_0x4e6d7d(_0x17ab('0x12c'))||_0x4e6d7d('1/3');else if(_0x1cb018&&!_0x47f4aa){_0x12268c=_0x1cb018;_0x156cec=_0x1e3dc1['spellcastingAbility'];}else if(!_0x1cb018&&_0x47f4aa){_0x12268c=_0x47f4aa;_0x156cec=_0x387c47[_0x17ab('0x29')];}if(!_0x156cec)_0x156cec=(_0x387c47?_0x387c47[_0x17ab('0x29')]:null)||_0x1e3dc1[_0x17ab('0x29')];if(_0x12268c){const _0x4d2e6f=_0x3ed6d7?Math[_0x17ab('0x88')]:Math[_0x17ab('0xdb')];switch(_0x12268c){case _0x17ab('0x72'):_0x12c2f5+=_0x4c4a17[_0x17ab('0x126')];break;case _0x17ab('0x12c'):_0x12c2f5+=_0x4d2e6f(_0x4c4a17[_0x17ab('0x126')]/0x2);break;case _0x17ab('0xab'):_0x12c2f5+=_0x4d2e6f(_0x4c4a17[_0x17ab('0x126')]/0x3);break;}}if(_0x12c2f5){let _0x20a6af=![];_0x407360[_0x17ab('0x2d')][_0x17ab('0xe8')]=_0x407360[_0x17ab('0x2d')][_0x17ab('0xe8')]||{};const _0x59062d=UtilActors[_0x17ab('0xb3')][_0x17ab('0x72')];const _0x567cfb=_0x59062d[_0x12c2f5-0x1]||_0x59062d['last']();_0x567cfb[_0x17ab('0xd9')]((_0x40ac84,_0x52bbf0)=>{if(_0x40ac84===0x0)return;const _0xa8c428='spell'+(_0x52bbf0+0x1);const _0x3b4fe6=MiscUtil['get'](this[_0x17ab('0xed')],_0x17ab('0x2d'),_0x17ab('0x2d'),_0x17ab('0xe8'),_0xa8c428,_0x17ab('0xec'));if(_0x3b4fe6!=null){if(_0x3b4fe6<_0x40ac84){_0x20a6af=!![];_0x407360[_0x17ab('0x2d')][_0x17ab('0xe8')][_0xa8c428]={'max':_0x40ac84,'value':_0x40ac84};}}else{_0x20a6af=!![];_0x407360[_0x17ab('0x2d')][_0x17ab('0xe8')][_0xa8c428]={'max':_0x40ac84,'value':_0x40ac84};}});if(!_0x20a6af)delete _0x407360[_0x17ab('0x2d')]['spells'];}if(_0x156cec)(_0x407360[_0x17ab('0x2d')][_0x17ab('0x4e')]=_0x407360[_0x17ab('0x2d')][_0x17ab('0x4e')]||{})[_0x17ab('0x133')]=_0x156cec;if(Object[_0x17ab('0x60')](_0x407360[_0x17ab('0x2d')])[_0x17ab('0x2b')])await this[_0x17ab('0xed')][_0x17ab('0x73')](_0x407360);}async[_0x17ab('0x114')](_0x1b81f8,_0x3f272c,_0x2c66ee,_0x3e48ba){const _0x3321d3={'chosenProficiencies':{}};if(_0x3f272c[_0x17ab('0x100')]){_0x3f272c['proficiency'][_0x17ab('0xd9')](_0x415fad=>{const _0x26d8b3=MiscUtil['get'](this[_0x17ab('0xed')],_0x17ab('0x2d'),_0x17ab('0x2d'),_0x17ab('0x62'),_0x415fad,_0x17ab('0x42'));if(!_0x26d8b3){((_0x1b81f8['data'][_0x17ab('0x62')]=_0x1b81f8[_0x17ab('0x2d')][_0x17ab('0x62')]||{})[_0x415fad]=_0x1b81f8['data'][_0x17ab('0x62')][_0x415fad]||{})[_0x17ab('0x42')]=0x1;}});}if(_0x3f272c[_0x17ab('0x11f')]){_0x3321d3['chosenProficiencies']=await this['_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom'](_0x1b81f8,_0x3f272c[_0x17ab('0x11f')],_0x3e48ba);}return _0x3321d3;}async[_0x17ab('0x45')](_0x3f0ca0,_0x3ced1c,_0x3166ae){const _0x578a85={'skills':{}};const _0x489cb2=(_0x4e3041,_0xeed829)=>{if(!_0xeed829[_0x17ab('0x8c')](_0xfe42b2=>_0xfe42b2[_0x17ab('0x6c')]()[_0x17ab('0x4c')]()===_0x4e3041[_0x17ab('0x6c')]()[_0x17ab('0x4c')]()))_0xeed829['push'](_0x4e3041);};const _0x5c1735=_0x2ee3f2=>{const _0x19338c=MiscUtil[_0x17ab('0x12b')](this['_actor'],_0x17ab('0x2d'),_0x17ab('0x2d'),_0x17ab('0x69'),_0x2ee3f2);const _0x3b0b6e=(_0x3f0ca0[_0x17ab('0x2d')]['traits']=_0x3f0ca0[_0x17ab('0x2d')][_0x17ab('0x69')]||{})[_0x2ee3f2]=MiscUtil[_0x17ab('0xf1')](_0x19338c||{});_0x3b0b6e['value']=_0x3b0b6e[_0x17ab('0x1')]||[];const _0x13bbd4=(_0x3b0b6e[_0x17ab('0x8')]||'')[_0x17ab('0x14')](';')[_0x17ab('0x68')](_0x3c5402=>_0x3c5402[_0x17ab('0x4c')]())[_0x17ab('0x30')](Boolean);return{'profUpdate':_0x3b0b6e,'customArr':_0x13bbd4};};if(_0x3ced1c['armor']){const {profUpdate,customArr}=_0x5c1735('armorProf');_0x3ced1c[_0x17ab('0xf0')][_0x17ab('0xd9')](_0x30dad6=>{const _0x5d4a96=(_0x30dad6['proficiency']||_0x30dad6)[_0x17ab('0x6c')]()[_0x17ab('0x4c')]();switch(_0x5d4a96){case _0x17ab('0x105'):_0x489cb2(_0x17ab('0x5'),profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0xef'):_0x489cb2(_0x17ab('0x75'),profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0xc7'):_0x489cb2(_0x17ab('0x110'),profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0x7f'):_0x489cb2(_0x17ab('0x35'),profUpdate[_0x17ab('0x1')]);break;default:(_0x30dad6[_0x17ab('0x72')]||_0x30dad6)[_0x17ab('0x14')](';')[_0x17ab('0x68')](_0x5ba935=>_0x5ba935[_0x17ab('0x4c')]())[_0x17ab('0x30')](Boolean)[_0x17ab('0xd9')](_0x3f5d9f=>_0x489cb2(_0x3f5d9f,customArr));break;}});profUpdate[_0x17ab('0x8')]=customArr[_0x17ab('0xb8')](';\x20');}if(_0x3ced1c['weapons']){const {profUpdate,customArr}=_0x5c1735(_0x17ab('0xc4'));_0x3ced1c['weapons'][_0x17ab('0xd9')](_0x4fada4=>{const _0x4675fc=_0x4fada4['toLowerCase']()['trim']();switch(_0x4675fc){case _0x17ab('0x64'):_0x489cb2(_0x17ab('0x130'),profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0x101'):_0x489cb2(_0x17ab('0x1a'),profUpdate[_0x17ab('0x1')]);break;default:_0x4fada4[_0x17ab('0x14')](';')[_0x17ab('0x68')](_0x3abbae=>_0x3abbae['trim']())[_0x17ab('0x30')](Boolean)[_0x17ab('0xd9')](_0x339553=>_0x489cb2(_0x339553,customArr));break;}});profUpdate[_0x17ab('0x8')]=customArr[_0x17ab('0xb8')](';\x20');}if(_0x3ced1c[_0x17ab('0x49')]){const {profUpdate,customArr}=_0x5c1735(_0x17ab('0x3c'));_0x3ced1c[_0x17ab('0x49')][_0x17ab('0xd9')](_0x4cddb9=>{const _0x4e13f5=_0x4cddb9['toLowerCase']()[_0x17ab('0x4c')]();switch(_0x4e13f5){case'artisan\x27s\x20tools':_0x489cb2(_0x17ab('0xd1'),profUpdate[_0x17ab('0x1')]);break;case'Disguise\x20Kit':_0x489cb2(_0x17ab('0x124'),profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0x24'):_0x489cb2('forg',profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0xe0'):_0x489cb2('game',profUpdate['value']);break;case _0x17ab('0x108'):_0x489cb2(_0x17ab('0xd7'),profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0x125'):_0x489cb2(_0x17ab('0x6f'),profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0xbc'):_0x489cb2(_0x17ab('0xfa'),profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0x65'):_0x489cb2(_0x17ab('0x10c'),profUpdate[_0x17ab('0x1')]);break;case _0x17ab('0x61'):_0x489cb2(_0x17ab('0x9a'),profUpdate['value']);break;case _0x17ab('0x4'):_0x489cb2(_0x17ab('0x57'),profUpdate['value']);break;default:_0x4cddb9[_0x17ab('0x14')](';')[_0x17ab('0x68')](_0x5b35ac=>_0x5b35ac['trim']())[_0x17ab('0x30')](Boolean)[_0x17ab('0xd9')](_0x4f72cd=>_0x489cb2(_0x4f72cd,customArr));break;}});profUpdate[_0x17ab('0x8')]=customArr['join'](';\x20');}if(_0x3ced1c[_0x17ab('0x17')]){const _0x33302f=await DataConverter[_0x17ab('0x3b')](MiscUtil[_0x17ab('0x12b')](this[_0x17ab('0xed')],_0x17ab('0x2d'),'data',_0x17ab('0x17')),_0x3ced1c[_0x17ab('0x17')],_0x3f0ca0['data']);if(_0x33302f[_0x17ab('0x3a')]){_0x3166ae[_0x17ab('0x3a')]=!![];return _0x578a85;}_0x578a85['skills']=_0x33302f[_0x17ab('0x17')];}return _0x578a85;}async[_0x17ab('0x11d')](_0x18b8ce,_0x180728,_0x125465,_0x26f76a){const _0x2cdfdd={'chosenProficiencies':{}};if(_0x180728[_0x17ab('0xd5')]&&_0x180728['multiclassing'][_0x17ab('0x15')]){_0x2cdfdd['chosenProficiencies']=await this[_0x17ab('0x45')](_0x18b8ce,_0x180728[_0x17ab('0xd5')][_0x17ab('0x15')],_0x26f76a);}return _0x2cdfdd;}async['_pImportEntry_pGetCurLevelFillClassData'](_0x41400e,_0x3e5112,_0x4111c9,_0x6ab4e6){const _0x4ec5d7={'curLevel':0x0,'existingClassItem':null};let _0x57e64a={};if(_0x6ab4e6[_0x17ab('0x38')]&&_0x6ab4e6[_0x17ab('0x77')]){switch(_0x6ab4e6['proficiencyImportMode']){case 0x0:{_0x57e64a=await this['_pImportEntry_pDoUpdateCharacter_pPopulateMulticlassProficiencies'](_0x41400e,_0x3e5112,_0x4111c9,_0x6ab4e6);break;}case 0x1:{_0x57e64a=await this[_0x17ab('0x114')](_0x41400e,_0x3e5112,_0x4111c9,_0x6ab4e6);break;}case 0x2:{break;}default:throw new Error('Unknown\x20proficiency\x20import\x20mode\x20\x22'+_0x6ab4e6['proficiencyImportMode']+'\x22');}}let _0x5b4b9e='';if(_0x3e5112[_0x17ab('0x36')]&&_0x3e5112[_0x17ab('0x36')][_0x17ab('0x2b')])_0x5b4b9e=Renderer[_0x17ab('0x12b')]()[_0x17ab('0x67')](!![])[_0x17ab('0xeb')]({'type':_0x3e5112[_0x17ab('0x36')][0x0][_0x17ab('0x12d')]||_0x17ab('0x9d'),'entries':_0x3e5112[_0x17ab('0x36')][0x0][_0x17ab('0xb6')]||[]});const _0x216c4d=MiscUtil[_0x17ab('0x12b')](this[_0x17ab('0xed')],_0x17ab('0x2d'),'items')||[];const _0x232392=_0x216c4d[_0x17ab('0x30')](_0x3620b3=>_0x3620b3[_0x17ab('0x12d')]===_0x17ab('0xcc')&&(_0x3620b3['name']||'')['toLowerCase']()[_0x17ab('0x4c')]()===_0x3e5112['name'][_0x17ab('0x6c')]()[_0x17ab('0x4c')]()&&(DataConverter[_0x17ab('0xaf')](_0x3620b3)||'')[_0x17ab('0x6c')]()===Parser[_0x17ab('0x71')](_0x3e5112[_0x17ab('0x1c')])['toLowerCase']());const _0x321af8=await(async()=>{if(!_0x232392[_0x17ab('0x2b')])return null;if(!_0x4111c9&&_0x232392[_0x17ab('0x2b')]===0x1)return _0x232392[0x0];if(!_0x4111c9)return this[_0x17ab('0x48')](_0x3e5112,_0x4111c9,_0x232392);const _0x93a74d=_0x232392[_0x17ab('0x30')](_0x2bebad=>MiscUtil[_0x17ab('0x12b')](_0x2bebad,_0x17ab('0x2d'),'subclass'));if(!_0x93a74d['length']&&_0x232392[_0x17ab('0x2b')]===0x1)return _0x232392[0x0];if(!_0x93a74d[_0x17ab('0x2b')])return this[_0x17ab('0x48')](_0x3e5112,_0x4111c9,_0x232392);const _0x4d23f3=_0x232392[_0x17ab('0x30')](_0x1e63af=>(MiscUtil['get'](_0x1e63af,_0x17ab('0x2d'),_0x17ab('0x93'))||'')===_0x4111c9['name']);if(!_0x4d23f3['length'])return this[_0x17ab('0x48')](_0x3e5112,_0x4111c9,_0x232392);if(_0x4d23f3[_0x17ab('0x2b')]===0x1)return _0x4d23f3[0x0];return this['_pGetUserClassItem'](_0x3e5112,_0x4111c9,_0x4d23f3);})();if(_0x321af8){let _0x30b5e7=![];const _0x4e264d={'_id':_0x321af8['_id']||_0x321af8[_0x17ab('0x2d')][_0x17ab('0xc2')]};if(_0x5b4b9e&&!(MiscUtil[_0x17ab('0x12b')](_0x321af8,_0x17ab('0x2d'),'description',_0x17ab('0x1'))||''[_0x17ab('0x4c')]())){_0x30b5e7=!![];((_0x4e264d[_0x17ab('0x2d')]=_0x4e264d[_0x17ab('0x2d')]||{})[_0x17ab('0x122')]=_0x4e264d['data'][_0x17ab('0x122')]||{})[_0x17ab('0x1')]=_0x5b4b9e;}let _0x3ae455=MiscUtil[_0x17ab('0x12b')](_0x321af8,_0x17ab('0x2d'),_0x17ab('0xdc'));if(_0x3ae455){if(_0x6ab4e6['targetLevel']>_0x3ae455){_0x30b5e7=!![];(_0x4e264d[_0x17ab('0x2d')]=_0x4e264d['data']||{})['levels']=_0x6ab4e6[_0x17ab('0x126')];}}if(_0x4111c9&&_0x4111c9[_0x17ab('0x56')]){const _0x3b863a=MiscUtil['get'](_0x321af8,_0x17ab('0x2d'),_0x17ab('0x93'));if(_0x3b863a!==_0x4111c9[_0x17ab('0x56')]){_0x30b5e7=!![];(_0x4e264d[_0x17ab('0x2d')]=_0x4e264d[_0x17ab('0x2d')]||{})[_0x17ab('0x93')]=_0x4111c9[_0x17ab('0x56')];}}if(_0x30b5e7)_0x6ab4e6['itemsToUpdate'][_0x17ab('0xf8')](_0x4e264d);_0x4ec5d7[_0x17ab('0x41')]=_0x3ae455||0x0;_0x4ec5d7[_0x17ab('0xb7')]=_0x321af8;}else{const _0x202bfe=(_0x4111c9||{})[_0x17ab('0x8b')]||_0x3e5112['casterProgression'];const _0x4f1979=await DataConverter[_0x17ab('0x82')]('class',_0x3e5112)||'modules/'+SharedConsts[_0x17ab('0x13')]+_0x17ab('0x87');const _0x26b2f2=_0x3e5112[_0x17ab('0x11f')]&&_0x3e5112[_0x17ab('0x11f')]['skills']?_0x3e5112[_0x17ab('0x11f')]['skills'][_0x17ab('0x68')](_0x4eddb1=>{if(_0x4eddb1[_0x17ab('0x106')])return _0x4eddb1[_0x17ab('0x106')][_0x17ab('0x121')]||0x1;return 0x0;})[_0x17ab('0xf4')]((_0xde6d0d,_0x350a5c)=>_0xde6d0d+_0x350a5c,0x0):0x0;const _0x4336ea=_0x57e64a[_0x17ab('0x5e')]&&_0x57e64a[_0x17ab('0x5e')][_0x17ab('0x17')]?Object['keys'](_0x57e64a[_0x17ab('0x5e')]['skills']):[];_0x6ab4e6[_0x17ab('0x80')][_0x17ab('0xf8')]({'name':UtilApplications[_0x17ab('0xb')](_0x3e5112[_0x17ab('0x56')]),'type':_0x17ab('0xcc'),'data':{'description':{'value':_0x5b4b9e,'chat':'','unidentified':''},'source':DataConverter['getSourceWithPagePart'](_0x3e5112),'levels':_0x6ab4e6[_0x17ab('0x126')],'subclass':_0x4111c9?_0x4111c9[_0x17ab('0x56')]:'','hitDice':'d'+((_0x3e5112['hd']||{})[_0x17ab('0x3')]||0x6),'hitDiceUsed':0x0,'spellcasting':UtilActors[_0x17ab('0xc5')](_0x202bfe)||_0x202bfe,'skills':{'number':_0x26b2f2,'value':_0x4336ea}},'img':_0x4f1979});}return _0x4ec5d7;}async['_pGetUserClassItem'](_0x30bf0b,_0x567259,_0x125c2d){const _0x2881af=''+(_0x30bf0b[_0x17ab('0x56')]||_0x17ab('0x12e'))+(_0x567259?'\x20('+(_0x567259[_0x17ab('0x56')]||_0x17ab('0x18'))+')':'');const _0x58f952=await InputUiUtil[_0x17ab('0x81')]({'values':_0x125c2d,'placeholder':'Select\x20Existing\x20Feature...','title':_0x17ab('0xfb')+_0x2881af+_0x17ab('0x6e'),'fnDisplay':_0x467d14=>{if(_0x467d14==null)return _0x17ab('0x86');const _0x5cec70=(MiscUtil['get'](_0x467d14,_0x17ab('0x2d'),'subclass')||'')[_0x17ab('0x4c')]();return''+(_0x467d14[_0x17ab('0x56')]||_0x17ab('0x12e'))+(_0x5cec70?':\x20'+_0x5cec70:'');},'isAllowNull':!![]});if(_0x58f952==null)return null;return _0x125c2d[_0x58f952];}async[_0x17ab('0x7e')](_0x51de2a,_0x529f0f,_0x15e3e9){const _0x365259=_0x529f0f+0x1;const _0x32eb3f=Math[_0x17ab('0xdb')](_0x529f0f/0x2);const _0x2162eb=Math[_0x17ab('0xdb')](_0x15e3e9['targetLevel']/0x2);const _0x530f20=_0x15e3e9[_0x17ab('0x126')]-_0x529f0f;const _0x22eeaa=_0x2162eb-_0x32eb3f;if(_0x22eeaa>0x0){const _0x35da25=await UtilApplications[_0x17ab('0x34')]({'title':'Populate\x20Spellbook','content':'<p>Do\x20you\x20want\x20to\x20populate\x20the\x20spellbook\x20for\x20this\x20class\x20(for\x20class\x20level'+(_0x530f20===0x1?'':'s')+'\x20'+(_0x530f20===0x1?_0x15e3e9['targetLevel']:_0x365259+'-'+_0x15e3e9[_0x17ab('0x126')])+_0x17ab('0x4d'),'confirmText':_0x17ab('0x31'),'dismissText':'No','faIcon':_0x17ab('0x4b')});if(!_0x35da25)return;const _0x523348=(await Vetools[_0x17ab('0x1d')](!![]))[_0x17ab('0x102')];const _0x42294a=_0x523348['filter'](_0x4e1ff7=>_0x4e1ff7[_0x17ab('0xe1')]>0x0&&_0x4e1ff7[_0x17ab('0xe1')]>_0x32eb3f&&_0x4e1ff7[_0x17ab('0xe1')]<=_0x2162eb&&_0x4e1ff7['classes']&&_0x4e1ff7[_0x17ab('0x20')]['fromClassList']&&_0x4e1ff7[_0x17ab('0x20')][_0x17ab('0xac')][_0x17ab('0x8c')](_0x52b34f=>(_0x52b34f[_0x17ab('0x56')]||'')[_0x17ab('0x6c')]()===_0x51de2a[_0x17ab('0x56')][_0x17ab('0x6c')]()&&(_0x52b34f[_0x17ab('0x1c')]||SRC_PHB)[_0x17ab('0x6c')]()===_0x51de2a[_0x17ab('0x1c')][_0x17ab('0x6c')]()));for(const _0x5949f6 of _0x42294a){const _0x2aa20a=UrlUtil[_0x17ab('0x6')][UrlUtil[_0x17ab('0x33')]](_0x5949f6);const _0x38496b=DataConverter['getActorSpell'](this['_actor'],_0x5949f6[_0x17ab('0x56')],_0x5949f6[_0x17ab('0x1c')]);if(_0x38496b){_0x15e3e9[_0x17ab('0x135')][_0x2aa20a]=_0x38496b[_0x17ab('0xc2')]||_0x38496b[_0x17ab('0x2d')][_0x17ab('0xc2')];continue;}const _0x56b37b=await DataConverter[_0x17ab('0x37')](_0x5949f6,{'casterLevel':_0x15e3e9[_0x17ab('0x126')],'abilityAbv':_0x51de2a['spellcastingAbility']});const _0x28ab3e=await this[_0x17ab('0xed')]['createEmbeddedEntity']('OwnedItem',_0x56b37b,{});_0x15e3e9[_0x17ab('0x135')][_0x2aa20a]=_0x28ab3e[_0x17ab('0xc2')]||_0x28ab3e[_0x17ab('0x2d')]['_id'];}}}async['_pImportEntry_pFillItemArrayAdditionalSpells'](_0x1e0d4f,_0x18aca6,_0x30c993){if(!_0x1e0d4f||!_0x1e0d4f[_0x17ab('0x2b')])return;const _0x4decd5=_0x18aca6+0x1;for(const _0x37a137 of _0x1e0d4f){if(!_0x37a137[_0x17ab('0x96')])continue;const _0x2c1653=_0x37a137['additionalSpells'][_0x17ab('0x30')](_0x1faa69=>_0x1faa69['prepared'])[_0x17ab('0x68')](_0x17305a=>_0x17305a['prepared']);if(!_0x2c1653[_0x17ab('0x2b')])continue;const _0x22263f=_0x2c1653[_0x17ab('0x30')](_0x47be0d=>{for(let _0x45db5a=_0x4decd5;_0x45db5a<=_0x30c993['targetLevel'];++_0x45db5a){if(_0x47be0d[_0x45db5a])return!![];}return![];});if(!_0x22263f[_0x17ab('0x2b')])continue;let _0x3ee4b8=_0x22263f[_0x17ab('0x2b')]===0x1?_0x22263f[0x0]:await InputUiUtil[_0x17ab('0xe5')]({'title':_0x17ab('0x5c')+_0x37a137[_0x17ab('0x56')]+')','values':_0x22263f,'isResolveItems':!![],'fnDisplay':_0x5fd4db=>{const _0x1a762b=Object[_0x17ab('0x1e')](_0x5fd4db)[_0x17ab('0x19')]()[_0x17ab('0x68')](_0x12f1c2=>_0x12f1c2[_0x17ab('0x14')]('|')[0x0][_0x17ab('0x23')]());let _0x51042b='';for(let _0xbf302f=0x0;_0xbf302f<_0x1a762b[_0x17ab('0x2b')];++_0xbf302f){if(_0x51042b[_0x17ab('0x2b')]>0x46){_0x51042b+=_0x17ab('0x4a');break;}const _0x2dfab6=''+(_0xbf302f>0x0?',\x20':'')+_0x1a762b[_0xbf302f];if(_0x51042b[_0x17ab('0x2b')]+_0x2dfab6[_0x17ab('0x2b')]>0x46){_0x51042b+='...';break;}_0x51042b+=_0x2dfab6;}return _0x51042b['uppercaseFirst']();}});if(_0x3ee4b8==null){_0x30c993[_0x17ab('0x3a')]=!![];return;}if(_0x22263f[_0x17ab('0x2b')]!==0x1)_0x3ee4b8=_0x3ee4b8[0x0];const _0x10211b=[];for(let _0x574d17=_0x4decd5;_0x574d17<=_0x30c993[_0x17ab('0x126')];++_0x574d17){if(!_0x3ee4b8[_0x574d17])continue;_0x10211b['push'](..._0x3ee4b8[_0x574d17]);}await DataConverter['pGetSpellHashToItemPosMapAndFillSpellsFromTagIds'](this[_0x17ab('0xed')],_0x10211b,{'optsGetSpellItem':{'casterLevel':_0x30c993['targetLevel'],'abilityAbv':_0x30c993[_0x17ab('0x29')],'isPrepared':!![],'preparationMode':_0x17ab('0x58')},'hashToIdMap':_0x30c993['spellHashToItemIdMap']});}}async[_0x17ab('0x84')](_0x5f0884,_0x121367,_0xd6cd83,_0x54da86){_0xd6cd83=this['_getFilteredEntries'](_0xd6cd83);const _0x40b83f=DataConverter[_0x17ab('0x127')][_0x17ab('0x91')](null,this[_0x17ab('0xed')]['id'],_0x54da86[_0x17ab('0x135')]);Renderer[_0x17ab('0x12b')]()[_0x17ab('0x11c')](_0x17ab('0x10a'),_0x17ab('0xa'),_0x40b83f);const _0x53522f=_0xd6cd83[_0x17ab('0x19')]()[_0x17ab('0x30')](_0x59f971=>!(_0x59f971[_0x17ab('0x56')]&&(_0x59f971[_0x17ab('0x56')][_0x17ab('0x6c')]()==='ability\x20score\x20improvement'||_0x59f971[_0x17ab('0x56')][_0x17ab('0x6c')]()===_0x17ab('0xa8'))||_0x59f971[_0x17ab('0x44')]));let _0x1e669b=[];const _0x55f183=_0x187e1a=>{const _0x3ee235=_0x187e1a[_0x17ab('0x68')](_0x195d2c=>_0x195d2c?_0x195d2c['name']:null)[_0x17ab('0x30')](Boolean)['filter'](_0x45f54c=>typeof _0x45f54c===_0x17ab('0x2e')&&_0x45f54c[_0x17ab('0x4c')]());return _0x3ee235[_0x17ab('0xb8')](':\x20');};const _0x2bf6ff=new Set(['type','caption']);const _0x15497e=MiscUtil[_0x17ab('0x16')]({'keyBlacklist':_0x2bf6ff,'isAllowDeleteObjects':!![],'isDepthFirst':!![]});MiscUtil[_0x17ab('0xf1')](_0x53522f)[_0x17ab('0xd9')](_0x417073=>{const _0x54d4cc=[];_0x15497e['walk']('featureWalker',_0x417073,{'object':(_0x43ba32,_0x35813a,_0x2b8ad2,_0x23a570)=>{if(_0x35813a[_0x17ab('0x56')]&&(_0x35813a['type']==null||_0x35813a['type']===_0x17ab('0x32')||_0x35813a[_0x17ab('0x12d')]===_0x17ab('0x7c')||_0x35813a[_0x17ab('0x12d')]===_0x17ab('0xb6')||_0x35813a[_0x17ab('0x12d')]==='section')){const _0x413447=_0x55f183(_0x23a570);if(_0x413447)_0x35813a[_0x17ab('0x56')]=_0x413447+':\x20'+_0x35813a['name'];_0x54d4cc[_0x17ab('0xf8')](_0x35813a);return undefined;}else{if(_0x23a570['length']===0x0){}return _0x35813a;}}},null,[]);_0x54d4cc[_0x17ab('0xc')]((_0x3e9ad9,_0x53524b)=>SortUtil['ascSortLower'](_0x3e9ad9[_0x17ab('0x56')],_0x53524b[_0x17ab('0x56')]));_0x1e669b[_0x17ab('0xf8')](_0x54d4cc);});_0x1e669b=_0x1e669b[_0x17ab('0x19')]()[_0x17ab('0x30')](Boolean);const _0x46f434=MiscUtil[_0x17ab('0x16')]({'keyBlacklist':_0x2bf6ff});_0x1e669b=_0x46f434[_0x17ab('0xcb')](_0x17ab('0x132'),_0x1e669b,{'array':(_0x2a2d98,_0x42cb12)=>_0x42cb12[_0x17ab('0x30')](_0x20d37f=>_0x20d37f!=null)});const _0x7de718=_0x2d9123=>{if(!_0x2d9123[_0x17ab('0x56')])return[];const _0x3bd0e9=[];const _0x5b25d8=_0x2d9123[_0x17ab('0x56')][_0x17ab('0x14')](':')['last']();if(_0x5b25d8!==_0x2d9123[_0x17ab('0x56')])_0x3bd0e9['push'](_0x5b25d8[_0x17ab('0x4c')]());const _0x2db283=_0x2d9123[_0x17ab('0x56')][_0x17ab('0xbe')](/\([^)]+\)/g,'')[_0x17ab('0xbe')](/\s+/g,'\x20');if(_0x2db283!==_0x2d9123['name'])_0x3bd0e9[_0x17ab('0xf8')](_0x2db283[_0x17ab('0x4c')]());return _0x3bd0e9;};for(const _0x29f754 of _0x1e669b){_0x29f754[_0x17ab('0x56')]=_0x29f754[_0x17ab('0x56')]||Renderer['findName'](_0x29f754)||'';if(_0x121367)_0x29f754[_0x17ab('0x7a')]=!![];const _0x13188c=await DataConverter[_0x17ab('0x82')](_0x17ab('0xb2'),_0x29f754,{'fnGetAliases':_0x7de718})||_0x17ab('0xa4')+SharedConsts[_0x17ab('0x13')]+_0x17ab('0xce');_0x54da86[_0x17ab('0x80')][_0x17ab('0xf8')](DataConverter[_0x17ab('0x79')](_0x29f754,{'renderDepth':0x0,'fvttType':_0x17ab('0xbb'),'img':_0x13188c,'source':_0x5f0884}));}Renderer[_0x17ab('0x12b')]()[_0x17ab('0x10f')](_0x17ab('0x10a'),'ele',_0x40b83f);if(_0x54da86['items'][_0x17ab('0x2b')])await UtilActors['pAddActorItems'](this[_0x17ab('0xed')],_0x54da86[_0x17ab('0x80')]);if(_0x54da86[_0x17ab('0x78')]['length'])await this[_0x17ab('0xed')][_0x17ab('0x131')]('OwnedItem',_0x54da86['itemsToUpdate']);}async[_0x17ab('0xb4')](_0x396804,_0xa53bf8){if(_0x396804['length']>0x1)return;if(_0x396804[0x0]===0x0)return;const _0x222f47=(MiscUtil['get'](this[_0x17ab('0xed')],_0x17ab('0x2d'),'items')||[])[_0x17ab('0x30')](_0x5ad466=>_0x5ad466['type']===_0x17ab('0xcc'));if(_0x222f47[_0x17ab('0x2b')])return;const _0x2805ef=_0x396804[0x0]+0x1;const _0x2c5f1b=await InputUiUtil[_0x17ab('0xad')]({'title':_0x17ab('0x10'),'htmlDescription':_0x17ab('0x95')+_0x2805ef+_0x17ab('0x27')+(_0x2805ef===0x2?'':'s')+'\x20'+(_0x2805ef===0x2?'1':'1-'+(_0x2805ef-0x1))+_0x17ab('0xa9'),'textYes':'Import\x20Levels\x201-'+_0x2805ef,'textNo':_0x17ab('0x26')+_0x2805ef});if(_0x2c5f1b==null){_0xa53bf8['isCancelled']=!![];return;}if(_0x2c5f1b){const _0x262a99=_0x396804[0x0];for(let _0x3b0461=0x0;_0x3b0461<=_0x262a99;++_0x3b0461){_0x396804[_0x3b0461]=_0x3b0461;}}}[_0x17ab('0x9')](_0x698df8){const _0x262a23=this[_0x17ab('0x55')][_0x17ab('0xa6')][_0x17ab('0xae')]();const _0x164f2a=_0x411367=>{if(!_0x411367[_0x17ab('0x1c')])return!![];return this[_0x17ab('0x55')][_0x17ab('0x112')][_0x17ab('0x103')](_0x262a23,_0x411367[_0x17ab('0x1c')]);};const _0x58e3f6=_0x2c2eb7=>{if(!_0x2c2eb7)return;if(typeof _0x2c2eb7===_0x17ab('0x3e')){if(_0x2c2eb7 instanceof Array){_0x2c2eb7=_0x2c2eb7[_0x17ab('0x30')](_0x32ccd0=>_0x164f2a(_0x32ccd0));return _0x2c2eb7[_0x17ab('0x68')](_0x39f201=>_0x58e3f6(_0x39f201));}else{Object['keys'](_0x2c2eb7)[_0x17ab('0xd9')](_0x21dc99=>{if(_0x2c2eb7[_0x21dc99]instanceof Array){_0x2c2eb7[_0x21dc99]=_0x58e3f6(_0x2c2eb7[_0x21dc99]);if(!_0x2c2eb7[_0x21dc99][_0x17ab('0x2b')])delete _0x2c2eb7[_0x21dc99];}else _0x2c2eb7[_0x21dc99]=_0x58e3f6(_0x2c2eb7[_0x21dc99]);});return _0x2c2eb7;}}else return _0x2c2eb7;};_0x698df8=MiscUtil[_0x17ab('0xf1')](_0x698df8);return _0x58e3f6(_0x698df8);}}ImportListClass[_0x17ab('0x8d')]={[SRC_PHB]:{'Cleric':!![],'Druid':!![]}};ImportListClass[_0x17ab('0x12f')]=class extends Application{static[_0x17ab('0x117')](_0x3a74ba){return _0x3a74ba[_0x17ab('0x68')](_0x1b9d06=>Renderer[_0x17ab('0x5a')](_0x1b9d06))[_0x17ab('0xb8')](',\x20')||'—';}constructor(_0x1fda0,_0x2c0f74){super({'title':_0x17ab('0xf')+(_0x2c0f74?_0x17ab('0x74'):_0x17ab('0x9f'))+_0x17ab('0xc3'),'template':SharedConsts['MODULE_LOCATION']+_0x17ab('0xdd'),'width':0x280,'resizable':!![]});this['_featureArr']=_0x1fda0;this[_0x17ab('0xe2')]=null;this[_0x17ab('0xa0')]=null;}[_0x17ab('0x6a')](_0x1425f3){super[_0x17ab('0x6a')](_0x1425f3);this[_0x17ab('0xe2')]=new List({'$wrpList':_0x1425f3[_0x17ab('0x11a')](_0x17ab('0x111')),'fnSort':null});ModalFilter['bindSelectAllCheckbox'](_0x1425f3[_0x17ab('0x11a')](_0x17ab('0x119')),this[_0x17ab('0xe2')]);this['_list'][_0x17ab('0xaa')](this[_0x17ab('0x4f')],{'fnGetName':_0x2faef4=>ImportListClass[_0x17ab('0x12f')][_0x17ab('0x117')](_0x2faef4),'fnGetValues':()=>({}),'fnGetData':UtilList2[_0x17ab('0xe6')],'fnBindListeners':_0xedadb9=>UtilList2[_0x17ab('0x9c')](this[_0x17ab('0xe2')],_0xedadb9)});this[_0x17ab('0xe2')]['init']();_0x1425f3['find'](_0x17ab('0xd0'))['click'](async()=>{const _0x4dd89d=_0x1425f3[_0x17ab('0x11a')](_0x17ab('0xea'))[_0x17ab('0x68')]((_0x57c8f5,_0x8aeb16)=>Number($(_0x8aeb16)[_0x17ab('0x46')](_0x17ab('0xde'))))[_0x17ab('0x12b')]();if(!_0x4dd89d[_0x17ab('0x2b')])return ui['notifications'][_0x17ab('0x6b')](_0x17ab('0x134'));this[_0x17ab('0xa0')](_0x4dd89d);this[_0x17ab('0x113')]();});}[_0x17ab('0xee')](){return{...super[_0x17ab('0xee')](),'rows':this[_0x17ab('0x4f')]['map']((_0x52e346,_0x2d387e)=>({'level':_0x2d387e+0x1,'text':ImportListClass[_0x17ab('0x12f')]['_getRowText'](_0x52e346),'ix':_0x2d387e}))};}[_0x17ab('0x113')](){super[_0x17ab('0x113')]();this[_0x17ab('0xa0')](null);}['pGetUserSelection'](){return new Promise(_0x33a9a3=>{this[_0x17ab('0xa0')]=_0x33a9a3;this[_0x17ab('0xeb')](!![]);});}};export{ImportListClass};