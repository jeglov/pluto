const _0x23a7=['journal','filterBox','_list','absorbFnBindListeners','values','collection','_sidebarTab','[name=btn-toggle-summary]','Actor','initBtnSortHandlers','path','get','items','[name=\x22cb-select-all\x22]','_$btnReset','tool-folderizer_','pInitFilterBox','_collection','forEach','Unknown\x20collection\x20\x22','bindSelectAllCheckbox','[name=btn-filter]','Item','_sortNamePathRows','_activateListeners_initListAndFilters','_getSelectedIds','.fltr__mini-view','_$iptSearch','_listSortNamePathRows','prop','data','click','input','_pageFilter','_folderType','_activateListeners_initBtnReset','item','filter','bind','getFolderPath','find','_collectionName','type','render','_gameProp','[name=\x22btn-reset\x22]','map','init','name','_handleFilterChange','JournalEntry','.search','unknown','toDisplay','absorbFnGetData','ascSortLowerSafe','checked','_rows','doAbsorbItems','actors'];(function(_0x2396e6,_0x23a726){const _0x522383=function(_0x540dfd){while(--_0x540dfd){_0x2396e6['push'](_0x2396e6['shift']());}};_0x522383(++_0x23a726);}(_0x23a7,0xf9));const _0x5223=function(_0x2396e6,_0x23a726){_0x2396e6=_0x2396e6-0x0;let _0x522383=_0x23a7[_0x2396e6];return _0x522383;};'use strict';import{UtilList2}from'./UtilList2.js';import{UtilApplications}from'./UtilApplications.js';class BaseCollectionTool extends Application{static['_sortNamePathRows'](_0x59e114,_0xd8c5ba){if(_0x59e114[_0x5223('0x1')]==null&&_0xd8c5ba['path']==null)return SortUtil[_0x5223('0x2e')](_0x59e114[_0x5223('0x27')],_0xd8c5ba['name']);if(_0x59e114[_0x5223('0x1')]!=null&&_0xd8c5ba[_0x5223('0x1')]==null)return-0x1;if(_0x59e114['path']==null&&_0xd8c5ba['path']!=null)return 0x1;return SortUtil[_0x5223('0x2e')](_0x59e114[_0x5223('0x1')],_0xd8c5ba[_0x5223('0x1')])||SortUtil['ascSortLowerSafe'](_0x59e114['name'],_0xd8c5ba[_0x5223('0x27')]);}static[_0x5223('0x13')](_0x403c92,_0x174f95,_0x4fe8c4){const _0x23525e={'name':_0x403c92[_0x5223('0x27')],'path':_0x403c92[_0x5223('0x37')]['path']};const _0x477810={'name':_0x174f95[_0x5223('0x27')],'path':_0x174f95[_0x5223('0x37')][_0x5223('0x1')]};return BaseCollectionTool[_0x5223('0xe')](_0x23525e,_0x477810);}constructor(_0x111e3a,_0x4b3136){super(_0x111e3a);this[_0x5223('0x20')]=_0x4b3136;this[_0x5223('0x8')]=null;this[_0x5223('0x39')]=null;this['_gameProp']=null;this[_0x5223('0x19')]=null;switch(_0x4b3136){case _0x5223('0x1b'):{this[_0x5223('0x8')]=Item[_0x5223('0x38')];this[_0x5223('0x39')]=_0x5223('0x3');this['_gameProp']=_0x5223('0x3');this[_0x5223('0x19')]=_0x5223('0xd');break;}case'actor':{this['_collection']=Actor['collection'];this[_0x5223('0x39')]=_0x5223('0x32');this[_0x5223('0x23')]=_0x5223('0x32');this[_0x5223('0x19')]=_0x5223('0x3b');break;}case _0x5223('0x33'):{this[_0x5223('0x8')]=JournalEntry[_0x5223('0x38')];this[_0x5223('0x39')]='journal';this['_gameProp']=_0x5223('0x33');this[_0x5223('0x19')]=_0x5223('0x29');break;}case'rolltable':{this[_0x5223('0x8')]=RollTable[_0x5223('0x38')];this[_0x5223('0x39')]='tables';this[_0x5223('0x23')]='tables';this[_0x5223('0x19')]='RollTable';break;}default:throw new Error(_0x5223('0xa')+_0x4b3136+'\x22');}}['_mapEntitiesToRows'](){return this[_0x5223('0x8')]['entities']['map']((_0x1a022d,_0x37d4c7)=>{const _0x5a6cf6=UtilApplications[_0x5223('0x1e')](_0x1a022d,{'isAddTrailingSlash':!![]});return{'path':_0x5a6cf6,'name':_0x1a022d[_0x5223('0x27')],'displayName':''+(_0x5a6cf6||'')+_0x1a022d[_0x5223('0x27')],'id':_0x1a022d['id'],'type':MiscUtil[_0x5223('0x2')](_0x1a022d,_0x5223('0x15'),_0x5223('0x21'))||_0x5223('0x2b'),'ix':_0x37d4c7};})['sort'](BaseCollectionTool[_0x5223('0xe')]);}[_0x5223('0x28')](){const _0x2e4deb=this['_pageFilter'][_0x5223('0x34')]['getValues']();this[_0x5223('0x35')]['filter'](_0x345fe6=>this[_0x5223('0x18')][_0x5223('0x2c')](_0x2e4deb,this[_0x5223('0x30')][_0x345fe6['ix']]));}[_0x5223('0x1a')](_0x41ac08){this[_0x5223('0x5')]=_0x41ac08[_0x5223('0x1f')](_0x5223('0x24'))[_0x5223('0x16')](()=>{_0x41ac08[_0x5223('0x1f')](_0x5223('0x2a'))['val']('');if(this[_0x5223('0x35')])this[_0x5223('0x35')]['reset']();});}[_0x5223('0xf')](_0x302aa5){this[_0x5223('0x12')]=_0x302aa5[_0x5223('0x1f')](_0x5223('0x2a'));this[_0x5223('0x35')]=new List({'$iptSearch':this['_$iptSearch'],'$wrpList':_0x302aa5['find']('.veapp__list'),'fnSort':BaseCollectionTool[_0x5223('0x13')]});SortUtil[_0x5223('0x0')](_0x302aa5[_0x5223('0x1f')]('[data-name=\x22wrp-btns-sort\x22]'),this[_0x5223('0x35')]);ModalFilter[_0x5223('0xb')](_0x302aa5['find'](_0x5223('0x4')),this[_0x5223('0x35')]);this['_pageFilter'][_0x5223('0x7')]({'$iptSearch':this[_0x5223('0x12')],'$btnReset':this[_0x5223('0x5')],'$btnOpen':_0x302aa5[_0x5223('0x1f')](_0x5223('0xc')),'$btnToggleSummaryHidden':_0x302aa5[_0x5223('0x1f')](_0x5223('0x3a')),'$wrpMiniPills':_0x302aa5[_0x5223('0x1f')](_0x5223('0x11')),'namespace':_0x5223('0x6')+this[_0x5223('0x20')]})['then'](()=>{this[_0x5223('0x30')][_0x5223('0x9')](_0x41f030=>this[_0x5223('0x18')]['addToFilters'](_0x41f030));this['_list'][_0x5223('0x31')](this[_0x5223('0x30')],{'fnGetName':_0x5118d2=>_0x5118d2['name'],'fnGetValues':_0x223be6=>({'id':_0x223be6['id'],'path':_0x223be6[_0x5223('0x1')]}),'fnGetData':UtilList2[_0x5223('0x2d')],'fnBindListeners':_0x5f36a3=>UtilList2[_0x5223('0x36')](this[_0x5223('0x35')],_0x5f36a3)});this[_0x5223('0x35')][_0x5223('0x26')]();this[_0x5223('0x18')][_0x5223('0x34')][_0x5223('0x22')]();$(this['_pageFilter'][_0x5223('0x34')])['on'](FilterBox['EVNT_VALCHANGE'],this[_0x5223('0x28')][_0x5223('0x1d')](this));this[_0x5223('0x28')]();});}[_0x5223('0x10')](){return this[_0x5223('0x35')][_0x5223('0x3')][_0x5223('0x1c')](_0x96dcde=>$(_0x96dcde['ele'])[_0x5223('0x1f')](_0x5223('0x17'))[_0x5223('0x14')](_0x5223('0x2f')))[_0x5223('0x25')](_0x13ead3=>({'name':_0x13ead3['name'],'id':_0x13ead3[_0x5223('0x37')]['id']}));}}export{BaseCollectionTool};