const _0x2c82=['DataSourceSpecial','forEach','_normalisedTime','\x20(tec.)','pGetSpellItem','doAbsorbItems','pGetSources','_pImportEntry_pImportToActor','pGetAllSpells','SOURCE_TYP_CUSTOM','DataSourceFile','_normalisedRange','spell','getTblTimeStr','absorbFnBindListeners','importEntity','OwnedItem','spells','_list','getActorSpellItemOpts','SOURCE_TYP_ARCANA','folder','SRD','_activateListeners_absorbListItems','technomagic','5etools-spells','\x20level','mutateForFilters','pGetSpellIndex','Name','name','_pageFilter','_pack','entries','absorbFnGetData','render','_actor','DataSourceUrl','importSpell','5etools','SOURCE_TYP_OFFICIAL_ALL','sourceLong','Upload\x20File','sourceShort','Level','items','time','source','ritual','getFolderPathMeta','Custom\x20URL','\x20Spell\x20Points','SOURCE_TYP_OFFICIAL_SINGLE','Import\x20Spells','\x20(rit.)','isToken','pImportEntry','pGetHomebrewSources','sortSpells','insert','isTemp','getSpellUrl','_l_time','sourceJsonToFull','_pImportEntry_pImportToItems','Importing\x20spell\x20\x22','_content','text-center','spRangeToFull','map','get','Item','Spells','range','meta','\x22\x20(from\x20\x22','text-right','prepareActorSpells','Time','spLevelToFull','sourceJsonToAbv','level','create','foundrySpell','createEmbeddedEntity','_pPostLoad','getData','_foundryData'];(function(_0x338870,_0x2c829f){const _0x5854e6=function(_0x22f274){while(--_0x22f274){_0x338870['push'](_0x338870['shift']());}};_0x5854e6(++_0x2c829f);}(_0x2c82,0x13c));const _0x5854=function(_0x338870,_0x2c829f){_0x338870=_0x338870-0x0;let _0x5854e6=_0x2c82[_0x338870];return _0x5854e6;};'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';class ImportListSpell extends ImportList{constructor(_0x1d3a64){_0x1d3a64=_0x1d3a64||{};super({'title':_0x5854('0x1')},_0x1d3a64,{'props':[_0x5854('0x30')],'searchTitle':_0x5854('0x35'),'sidebarTab':'items','gameProp':'items','defaultFolderPath':[_0x5854('0x14')],'folderType':_0x5854('0x13'),'fnListSort':PageFilterSpells[_0x5854('0x6')],'pageFilter':new PageFilterSpells()});}static[_0x5854('0x21')](_0xab4f46,_0x17030f){if(!_0x17030f||!_0x17030f[_0x5854('0x1f')])return _0xab4f46;_0x17030f[_0x5854('0x1f')][_0x5854('0x25')](_0x471b2f=>{const _0x444f99=_0xab4f46['find'](_0x5aec4c=>_0x5aec4c['name']===_0x471b2f[_0x5854('0x42')]&&_0x5aec4c[_0x5854('0x53')]===_0x471b2f[_0x5854('0x53')]);if(!_0x444f99)return;_0x444f99[_0x5854('0x23')]=_0x471b2f;});return _0xab4f46;}async[_0x5854('0x2a')](){const _0xb5f829=await Vetools[_0x5854('0x40')]();return[new ImportList[(_0x5854('0x24'))](Config[_0x5854('0x12')]('ui','isStreamerMode')?_0x5854('0x3a'):_0x5854('0x4b'),async()=>(await Vetools[_0x5854('0x2c')]())[_0x5854('0x30')],{'cacheKey':_0x5854('0x3d'),'filterTypes':[ImportList[_0x5854('0x4c')]]}),new ImportList[(_0x5854('0x49'))](_0x5854('0x56'),'',{'filterTypes':[ImportList[_0x5854('0x2d')]]}),new ImportList[(_0x5854('0x2e'))](_0x5854('0x4e'),{'pPostLoad':ImportListSpell[_0x5854('0x21')],'filterTypes':[ImportList[_0x5854('0x2d')]]}),...Object[_0x5854('0x45')](_0xb5f829)[_0x5854('0x11')](([_0x5d1406,_0x1a33a9])=>new ImportList['DataSourceUrl'](Parser[_0x5854('0xb')](_0x5d1406),Vetools[_0x5854('0x9')](_0x1a33a9),{'source':_0x5d1406,'pPostLoad':ImportListSpell[_0x5854('0x21')],'filterTypes':SourceUtil['isNonstandardSource'](_0x5d1406)?[ImportList[_0x5854('0x38')]]:[ImportList[_0x5854('0x0')]]})),...(await Vetools[_0x5854('0x5')](_0x5854('0x30')))[_0x5854('0x11')](({name,url})=>new ImportList['DataSourceUrl'](name,url,{'pPostLoad':ImportListSpell['_pPostLoad'],'filterTypes':[ImportList['SOURCE_TYP_BREW']]}))];}[_0x5854('0x55')](){return{...super['getFolderPathMeta'](),'level':{'label':'Level','getter':_0x1f3faf=>''+Parser[_0x5854('0x1b')](_0x1f3faf[_0x5854('0x1d')])+(_0x1f3faf[_0x5854('0x1d')]?_0x5854('0x3e'):'')},'spellPoints':{'label':'Spell\x20Points','getter':_0x46a75a=>{const _0xfa8c8=(()=>{switch(_0x46a75a[_0x5854('0x1d')]){case 0x1:return 0x2;case 0x2:return 0x3;case 0x3:return 0x5;case 0x4:return 0x6;case 0x5:return 0x7;case 0x6:return 0x8;case 0x7:return 0xa;case 0x8:return 0xb;case 0x9:return 0xd;case 0x0:default:return 0x0;}})();return _0xfa8c8+_0x5854('0x57');}}};}[_0x5854('0x22')](){return{...super[_0x5854('0x22')](),'cols':[{'name':_0x5854('0x41'),'width':0x4,'field':_0x5854('0x42')},{'name':_0x5854('0x50'),'width':0x1,'field':'level','rowClassName':'text-center'},{'name':_0x5854('0x1a'),'width':0x2,'field':_0x5854('0x52'),'rowClassName':_0x5854('0xf')},{'name':'Range','width':0x3,'field':'range','rowClassName':_0x5854('0x18')},{'name':'Source','width':0x1,'field':_0x5854('0x53'),'titleProp':_0x5854('0x4d'),'displayProp':_0x5854('0x4f'),'rowClassName':_0x5854('0xf')}],'rows':this[_0x5854('0xe')][_0x5854('0x11')]((_0xfcd3a5,_0x5346a7)=>{this[_0x5854('0x43')][_0x5854('0x3f')](_0xfcd3a5);_0xfcd3a5[_0x5854('0xa')]=PageFilterSpells[_0x5854('0x31')](_0xfcd3a5['time'][0x0]);return{'name':_0xfcd3a5[_0x5854('0x42')],'level':''+Parser[_0x5854('0x1b')](_0xfcd3a5['level'])+(_0xfcd3a5[_0x5854('0x16')]&&_0xfcd3a5[_0x5854('0x16')][_0x5854('0x54')]?_0x5854('0x2'):'')+(_0xfcd3a5[_0x5854('0x16')]&&_0xfcd3a5[_0x5854('0x16')][_0x5854('0x3c')]?_0x5854('0x27'):''),'time':_0xfcd3a5[_0x5854('0xa')],'range':Parser[_0x5854('0x10')](_0xfcd3a5[_0x5854('0x15')]),'source':_0xfcd3a5['source'],'sourceShort':Parser[_0x5854('0x1c')](_0xfcd3a5[_0x5854('0x53')]),'sourceLong':Parser[_0x5854('0xb')](_0xfcd3a5[_0x5854('0x53')]),'ix':_0x5346a7};})};}[_0x5854('0x3b')](){this[_0x5854('0x36')][_0x5854('0x29')](this['_content'],{'fnGetName':_0x1e6580=>_0x1e6580[_0x5854('0x42')],'fnGetValues':_0x41e1aa=>({'source':_0x41e1aa[_0x5854('0x53')],'level':_0x41e1aa[_0x5854('0x1d')],'time':_0x41e1aa[_0x5854('0xa')],'normalisedTime':_0x41e1aa[_0x5854('0x26')],'normalisedRange':_0x41e1aa[_0x5854('0x2f')]}),'fnGetData':UtilList2[_0x5854('0x46')],'fnBindListeners':_0x286a2a=>UtilList2[_0x5854('0x32')](this[_0x5854('0x36')],_0x286a2a)});}async[_0x5854('0x4')](_0x531b9b,_0xaa20d2){_0xaa20d2=_0xaa20d2||{};console['log'](...LGT,_0x5854('0xd')+_0x531b9b[_0x5854('0x42')]+_0x5854('0x17')+Parser[_0x5854('0x1c')](_0x531b9b[_0x5854('0x53')])+'\x22)');if(_0xaa20d2[_0x5854('0x8')])return this[_0x5854('0xc')](_0x531b9b,_0xaa20d2);else if(this[_0x5854('0x48')])return this[_0x5854('0x2b')](_0x531b9b,_0xaa20d2);else return this['_pImportEntry_pImportToItems'](_0x531b9b,_0xaa20d2);}async['_pImportEntry_pImportToActor'](_0x5c005a,_0x17df5f){const _0x5c76ca=UtilActors[_0x5854('0x37')](this['_actor'],Config[_0x5854('0x12')](_0x5854('0x4a'),_0x5854('0x19')));const _0x140f64=await this[_0x5854('0x48')][_0x5854('0x20')](_0x5854('0x34'),await DataConverter[_0x5854('0x28')](_0x5c005a,_0x5c76ca),{});if(this[_0x5854('0x48')][_0x5854('0x3')])this[_0x5854('0x48')]['sheet'][_0x5854('0x47')]();return{'name':_0x5c005a[_0x5854('0x42')],'actor':this[_0x5854('0x48')],'embeddedEntity':_0x140f64};}async[_0x5854('0xc')](_0x542e25,_0x353752){const _0x15c08b=await DataConverter['pGetSpellItem'](_0x542e25,{'isAddPermission':!![]});if(_0x353752[_0x5854('0x8')]||!this[_0x5854('0x44')]){if(!_0x353752['isTemp']&&!this[_0x5854('0x44')]){const _0x5b4370=await this['_pImportEntry_pGetFolderId'](_0x542e25);if(_0x5b4370)_0x15c08b[_0x5854('0x39')]=_0x5b4370;}const _0x42edc0=await Item[_0x5854('0x1e')](_0x15c08b,{'renderSheet':!!_0x353752[_0x5854('0x8')],'temporary':!!_0x353752[_0x5854('0x8')]});if(!_0x353752[_0x5854('0x8')])await game[_0x5854('0x51')][_0x5854('0x7')](_0x42edc0);return _0x42edc0;}else{const _0x2f3b9a=new Item(_0x15c08b);await this[_0x5854('0x44')][_0x5854('0x33')](_0x2f3b9a);return _0x2f3b9a;}}}export{ImportListSpell};