const _0x1b10=['Importing\x20other\x20option/feature\x20\x22','getOptionalFeatureItem','SOURCE_TYP_CUSTOM','isTemp','doAbsorbItems','create','Source','_activateListeners_absorbListItems','absorbFnBindListeners','optionalfeature','_vLevel','mutateForFilters','DataSourceUrl','insert','_pack','name','log','sourceLong','_pImportEntry_pImportToItems','level','getListPrerequisiteLevelText','sheet','Custom\x20URL','items','Upload\x20File','options\x20and\x20features','folder','Name','Prerequisite','text-center','DataSourceFile','importEntity','DATA_URL_OPTIONALFEATURES','_vPrerequisite','isToken','_pImportEntry_pGetFolderId','sourceJsonToAbv','getPrerequisiteText','pGetSources','_list','\x22\x20(from\x20\x22','pImportEntry','5etools','SRD','Other\x20Options\x20and\x20Features','map','Level','getData','absorbFnGetData','OwnedItem','_actor','prerequisite','_content','source','isStreamerMode','SOURCE_TYP_OFFICIAL_ALL','pGetHomebrewSources','SOURCE_TYP_BREW','_pImportEntry_pImportToActor'];(function(_0x13bf1b,_0x1b1079){const _0x4c9567=function(_0x57d0e3){while(--_0x57d0e3){_0x13bf1b['push'](_0x13bf1b['shift']());}};_0x4c9567(++_0x1b1079);}(_0x1b10,0xb6));const _0x4c95=function(_0x13bf1b,_0x1b1079){_0x13bf1b=_0x13bf1b-0x0;let _0x4c9567=_0x1b10[_0x13bf1b];return _0x4c9567;};'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';class ImportListOptionalFeature extends ImportList{constructor(_0x13fe06){_0x13fe06=_0x13fe06||{};super({'title':'Import\x20Other\x20Options\x20and\x20Features'},_0x13fe06,{'props':[_0x4c95('0x4')],'searchTitle':_0x4c95('0x14'),'sidebarTab':_0x4c95('0x12'),'gameProp':'items','defaultFolderPath':[_0x4c95('0x27')],'folderType':'Item','pageFilter':new PageFilterOptionalFeatures()});}async[_0x4c95('0x21')](){return[new ImportList[(_0x4c95('0x7'))](Config['get']('ui',_0x4c95('0x31'))?_0x4c95('0x26'):_0x4c95('0x25'),Vetools[_0x4c95('0x1b')],{'filterTypes':[ImportList[_0x4c95('0x32')]]}),new ImportList[(_0x4c95('0x7'))](_0x4c95('0x11'),'',{'filterTypes':[ImportList['SOURCE_TYP_CUSTOM']]}),new ImportList[(_0x4c95('0x19'))](_0x4c95('0x13'),{'filterTypes':[ImportList[_0x4c95('0x38')]]}),...(await Vetools[_0x4c95('0x33')](_0x4c95('0x4')))[_0x4c95('0x28')](({name,url})=>new ImportList['DataSourceUrl'](name,url,{'filterTypes':[ImportList[_0x4c95('0x34')]]}))];}['getData'](){return{...super[_0x4c95('0x2a')](),'cols':[{'name':_0x4c95('0x16'),'width':0x4,'field':_0x4c95('0xa')},{'name':'Type','width':0x2,'field':'type','rowClassName':_0x4c95('0x18')},{'name':_0x4c95('0x17'),'width':0x3,'field':_0x4c95('0x2e'),'rowClassName':'text-center'},{'name':_0x4c95('0x29'),'width':0x1,'field':'level','rowClassName':'text-center'},{'name':_0x4c95('0x1'),'width':0x1,'field':_0x4c95('0x30'),'titleProp':_0x4c95('0xc'),'displayProp':'sourceShort','rowClassName':_0x4c95('0x18')}],'rows':this[_0x4c95('0x2f')][_0x4c95('0x28')]((_0x3940ce,_0xdc20e)=>{this['_pageFilter'][_0x4c95('0x6')](_0x3940ce);_0x3940ce[_0x4c95('0x1c')]=Renderer['utils'][_0x4c95('0x20')](_0x3940ce[_0x4c95('0x2e')],!![],new Set([_0x4c95('0xe')]));_0x3940ce['_vLevel']=Renderer[_0x4c95('0x4')][_0x4c95('0xf')](_0x3940ce[_0x4c95('0x2e')]);return{'name':_0x3940ce[_0x4c95('0xa')],'type':_0x3940ce['_lFeatureType'],'prerequisite':_0x3940ce[_0x4c95('0x1c')],'level':_0x3940ce[_0x4c95('0x5')],'source':_0x3940ce[_0x4c95('0x30')],'sourceShort':Parser['sourceJsonToAbv'](_0x3940ce['source']),'sourceLong':Parser['sourceJsonToFull'](_0x3940ce[_0x4c95('0x30')]),'ix':_0xdc20e};})};}[_0x4c95('0x2')](){this[_0x4c95('0x22')][_0x4c95('0x3a')](this['_content'],{'fnGetName':_0x87952e=>_0x87952e[_0x4c95('0xa')],'fnGetValues':_0x4093d1=>({'source':_0x4093d1[_0x4c95('0x30')],'prerequisite':_0x4093d1[_0x4c95('0x1c')],'level':_0x4093d1[_0x4c95('0x5')],'type':_0x4093d1['_lFeatureType']}),'fnGetData':UtilList2[_0x4c95('0x2b')],'fnBindListeners':_0x594a16=>UtilList2[_0x4c95('0x3')](this[_0x4c95('0x22')],_0x594a16)});}async[_0x4c95('0x24')](_0x578689,_0xf16b92){_0xf16b92=_0xf16b92||{};console[_0x4c95('0xb')](...LGT,_0x4c95('0x36')+_0x578689[_0x4c95('0xa')]+_0x4c95('0x23')+Parser[_0x4c95('0x1f')](_0x578689[_0x4c95('0x30')])+'\x22)');if(_0xf16b92[_0x4c95('0x39')])return this['_pImportEntry_pImportToItems'](_0x578689,_0xf16b92);else if(this[_0x4c95('0x2d')])return this['_pImportEntry_pImportToActor'](_0x578689,_0xf16b92);else return this[_0x4c95('0xd')](_0x578689,_0xf16b92);}async[_0x4c95('0x35')](_0x37d44f,_0x36a8fe){await this['_actor']['createEmbeddedEntity'](_0x4c95('0x2c'),DataConverter[_0x4c95('0x37')](_0x37d44f),{});if(this[_0x4c95('0x2d')][_0x4c95('0x1d')])this[_0x4c95('0x2d')][_0x4c95('0x10')]['render']();return{'name':_0x37d44f['name'],'actor':this[_0x4c95('0x2d')]};}async['_pImportEntry_pImportToItems'](_0x371e2d,_0x2007c8){const _0x255593=DataConverter['getOptionalFeatureItem'](_0x371e2d,{'isAddPermission':!![]});if(_0x2007c8[_0x4c95('0x39')]||!this[_0x4c95('0x9')]){if(!_0x2007c8['isTemp']){const _0x432bc1=await this[_0x4c95('0x1e')](_0x371e2d);if(_0x432bc1)_0x255593[_0x4c95('0x15')]=_0x432bc1;}const _0x52351e=await Item[_0x4c95('0x0')](_0x255593,{'renderSheet':!!_0x2007c8[_0x4c95('0x39')],'temporary':!!_0x2007c8[_0x4c95('0x39')]});if(!_0x2007c8[_0x4c95('0x39')])await game[_0x4c95('0x12')][_0x4c95('0x8')](_0x52351e);return _0x52351e;}else{const _0x37f700=new Item(_0x255593);await this['_pack'][_0x4c95('0x1a')](_0x37f700);return _0x37f700;}}}export{ImportListOptionalFeature};