const _0x33f8=['table','Tables','map','pImportEntry','Custom\x20URL','text-center','Importing\x20table\x20group\x20\x22','forEach','push','SOURCE_TYP_CUSTOM','_content','tableGroup','SRD','get','sourceJsonToFull','Name','insert','folder','sourceShort','5etools-rollable-tables','sourceJsonToAbv','pGetSources','getData','copy','__prop','Upload\x20File','SOURCE_TYP_BREW','name','5etools','isTemp','Import\x20Rollable\x20Tables','_list','sourceLong','source','RollTable','caption','DataSourceSpecial','_pImportEntry_pGetFolderId','_activateListeners_absorbListItems','log','_pImportTableGroup','pGetRollableTables','SOURCE_TYP_OFFICIAL_ALL','isStreamerMode',',\x20Table\x20','tables','pGetHomebrewSources','_pack','Cannot\x20import\x20table\x20to\x20actor!','absorbFnGetData','_pageFilter','_pImportEntry_getTablesFromGroup','create','DataSourceUrl','\x22\x20(from\x20\x22'];(function(_0xa5d185,_0x33f88){const _0x2e2413=function(_0x26a291){while(--_0x26a291){_0xa5d185['push'](_0xa5d185['shift']());}};_0x2e2413(++_0x33f88);}(_0x33f8,0x8f));const _0x2e24=function(_0xa5d185,_0x33f88){_0xa5d185=_0xa5d185-0x0;let _0x2e2413=_0x33f8[_0xa5d185];return _0x2e2413;};'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';class ImportListRollableTable extends ImportList{constructor(_0x6d1f6c){_0x6d1f6c=_0x6d1f6c||{};super({'title':_0x2e24('0x34')},_0x6d1f6c,{'props':[_0x2e24('0x16'),_0x2e24('0x21')],'searchTitle':'table','sidebarTab':_0x2e24('0xc'),'gameProp':_0x2e24('0xc'),'defaultFolderPath':[_0x2e24('0x17')],'folderType':_0x2e24('0x1'),'pageFilter':new PageFilterTables()});}async[_0x2e24('0x2b')](){return[new ImportList[(_0x2e24('0x3'))](Config[_0x2e24('0x23')]('ui',_0x2e24('0xa'))?_0x2e24('0x22'):_0x2e24('0x32'),Vetools[_0x2e24('0x8')]['bind'](Vetools),{'cacheKey':_0x2e24('0x29'),'isUseProps':!![],'filterTypes':[ImportList[_0x2e24('0x9')]]}),new ImportList[(_0x2e24('0x14'))](_0x2e24('0x1a'),'',{'filterTypes':[ImportList[_0x2e24('0x1f')]]}),new ImportList['DataSourceFile'](_0x2e24('0x2f'),{'filterTypes':[ImportList['SOURCE_TYP_CUSTOM']]}),...(await Vetools[_0x2e24('0xd')](_0x2e24('0x16')))[_0x2e24('0x18')](({name,url})=>new ImportList[(_0x2e24('0x14'))](name,url,{'filterTypes':[ImportList[_0x2e24('0x30')]]}))];}[_0x2e24('0x2c')](){return{...super[_0x2e24('0x2c')](),'cols':[{'name':_0x2e24('0x25'),'width':0x9,'field':_0x2e24('0x31')},{'name':'Source','width':0x2,'field':_0x2e24('0x0'),'titleProp':_0x2e24('0x36'),'displayProp':_0x2e24('0x28'),'rowClassName':_0x2e24('0x1b')}],'rows':this['_content'][_0x2e24('0x18')]((_0x458d3a,_0x30fa3b)=>{this[_0x2e24('0x11')]['mutateForFilters'](_0x458d3a);return{'name':_0x458d3a[_0x2e24('0x31')],'source':_0x458d3a[_0x2e24('0x0')],'sourceShort':Parser['sourceJsonToAbv'](_0x458d3a[_0x2e24('0x0')]),'sourceLong':Parser[_0x2e24('0x24')](_0x458d3a['source']),'ix':_0x30fa3b};})};}[_0x2e24('0x5')](){this[_0x2e24('0x35')]['doAbsorbItems'](this[_0x2e24('0x20')],{'fnGetName':_0x18bbca=>_0x18bbca[_0x2e24('0x31')],'fnGetValues':_0x57a18e=>({'source':_0x57a18e['source']}),'fnGetData':UtilList2[_0x2e24('0x10')],'fnBindListeners':_0x2daa53=>UtilList2['absorbFnBindListeners'](this[_0x2e24('0x35')],_0x2daa53)});}[_0x2e24('0x12')](_0x144efe){const _0x461fc7=MiscUtil[_0x2e24('0x2d')](_0x144efe);_0x461fc7[_0x2e24('0xc')][_0x2e24('0x1d')]((_0x2e246e,_0x38c612)=>{if(_0x461fc7[_0x2e24('0x31')])_0x2e246e[_0x2e24('0x31')]=_0x2e246e[_0x2e24('0x31')]||_0x461fc7['name']+_0x2e24('0xb')+(_0x38c612+0x1);_0x2e246e[_0x2e24('0x0')]=_0x2e246e[_0x2e24('0x0')]||_0x461fc7[_0x2e24('0x0')];});return _0x461fc7[_0x2e24('0xc')];}async[_0x2e24('0x7')](_0x4ef9ea,_0x25bf42){if(_0x4ef9ea[_0x2e24('0x2e')]!=='tableGroup')return null;console[_0x2e24('0x6')](...LGT,_0x2e24('0x1c')+(_0x4ef9ea['name']||_0x4ef9ea[_0x2e24('0x2')])+_0x2e24('0x15')+Parser[_0x2e24('0x2a')](_0x4ef9ea[_0x2e24('0x0')])+'\x22)');const _0x227fef=this[_0x2e24('0x12')](_0x4ef9ea);const _0xc52726=[];for(const _0x41e932 of _0x227fef){const _0x587b89=await this[_0x2e24('0x19')](_0x41e932,_0x25bf42);_0xc52726[_0x2e24('0x1e')](_0x587b89);}const _0x5dc1df=DataConverter['getTableGroupJournal'](_0x4ef9ea,_0xc52726,{'isAddPermission':!![]});const _0xaaf183=_0x25bf42[_0x2e24('0x33')]||!!this[_0x2e24('0xe')];if(!_0xaaf183){const _0x4bc25f=await this[_0x2e24('0x4')](_0x4ef9ea);if(_0x4bc25f)_0x5dc1df[_0x2e24('0x27')]=_0x4bc25f;}const _0x8f827d=await JournalEntry[_0x2e24('0x13')](_0x5dc1df,{'renderSheet':!!_0xaaf183,'temporary':!!_0xaaf183});if(!_0xaaf183)await game['journal'][_0x2e24('0x26')](_0x8f827d);return _0x8f827d;}async[_0x2e24('0x19')](_0x58c7ae,_0x45dda3){_0x45dda3=_0x45dda3||{};const _0x26c9a8=await this['_pImportTableGroup'](_0x58c7ae,_0x45dda3);if(_0x26c9a8!=null)return _0x26c9a8;console[_0x2e24('0x6')](...LGT,'Importing\x20table\x20\x22'+(_0x58c7ae[_0x2e24('0x31')]||_0x58c7ae[_0x2e24('0x2')])+_0x2e24('0x15')+Parser['sourceJsonToAbv'](_0x58c7ae['source'])+'\x22)');if(this['_actor'])throw new Error(_0x2e24('0xf'));const _0x5eeae3=DataConverter['getTableRollableTable'](_0x58c7ae,{'isAddPermission':!![]});if(_0x45dda3['isTemp']||!this['_pack']){if(!_0x45dda3[_0x2e24('0x33')]){const _0x2acddf=await this['_pImportEntry_pGetFolderId'](_0x58c7ae);if(_0x2acddf)_0x5eeae3[_0x2e24('0x27')]=_0x2acddf;}const _0xb61343=await RollTable[_0x2e24('0x13')](_0x5eeae3,{'renderSheet':!!_0x45dda3[_0x2e24('0x33')],'temporary':!!_0x45dda3[_0x2e24('0x33')]});if(!_0x45dda3['isTemp'])await game['tables'][_0x2e24('0x26')](_0xb61343);return _0xb61343;}else{const _0x4f97a2=new RollTable(_0x5eeae3);await this[_0x2e24('0xe')]['importEntity'](_0x4f97a2);return _0x4f97a2;}}}export{ImportListRollableTable};